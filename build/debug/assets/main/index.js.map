{"version":3,"sources":["../file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/BetManager.ts","../file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/BlackJackDealerManager.ts","../file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/BlackJackGameManager.ts","../file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/BlackJackPlayerManager.ts","../file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/CardManager.ts","../file:/Applications/Cocos/Creator/3.8.1/CocosCreator.app/Contents/Resources/resources/3d/engine/editor/assets/tools/file:/Applications/Cocos/Creator/3.8.1/CocosCreator.app/Contents/Resources/resources/3d/engine/editor/assets/tools/debug-view-runtime-control.ts","../file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/GameList.ts","../file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/GameManager.ts","../file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/TimerManager.ts","../file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/ToastManager.ts","../file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/utils.ts","../file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/file:/Users/fe-tu/Desktop/Personal/card-games/assets/scripts/WalletManager.ts"],"names":["ccclass","_decorator","property","BETS","BetManager","_dec","_dec2","Button","_dec3","_dec4","Label","_class","_class2","_Component","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializerDefineProperty","_descriptor","_assertThisInitialized","_descriptor2","_descriptor3","currIndex","playerBetAmount","_proto","prototype","start","betLabel","string","toString","resetBet","onDoubleDown","onIncreaseBet","onDecreaseBet","Component","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","_RF","pop","BlackJackDealerManager","Node","dealerHand","dealerHandValue","_dealerTurn","hasBlackJack","startTurn","nextMove","loadHand","hand","_this2","allPromises","forEach","card","value","suit","cardNode","assetName","push","Promise","resolve","reject","resources","load","SpriteFrame","err","asset","error","message","node","instantiate","BlackJackGameManager","instance","cardPrefab","getComponent","Sprite","spriteFrame","setParent","dealerTable","all","then","updateHand","playerHand","getTotalHandValue","dealerInfo","isBlackJack","checkBlackJack","dealOneCardDealer","_this3","dealOneCard","CardManager","showBackCard","showFaceCard","dealerHit","endDealerTurn","_this4","TimerManager","_scheduleOnce","bind","TURN_DURATION","reset","removeAllChildren","Prefab","_dec5","_dec6","_dec7","ToastManager","_class3","_descriptor4","_descriptor5","_descriptor6","cardDeck","playerTurn","onLoad","_this$dealer","_this$player","dealer","player","BlackJackPlayerManager","gameStart","deck","getDeck","shuffle","gameStartButton","interactable","onGameStart","isFinshed","showResult","endPlayerTurn","playerHandValue","playerHasBlackJack","dealerHasBlackJack","isPlayerBust","isDealerBust","result","toast","showToast","endGame","onGameRestart","_dec8","_dec9","_dec10","WalletManager","_descriptor7","_descriptor8","_descriptor9","isDoubleDown","disableButtons","updateWalletOnStart","onEndTurn","dealOneCardPlayer","enableButtons","console","log","hitButton","endButton","doubleDownButton","handInfo","handShoutOut","playerTable","onHit","playerWallet","subMoney","playerBet","winAmount","calculateWinnings","addMoney","isSelected","on","init","EventType","MOUSE_DOWN","onMouseDown","pos","getPosition","y","GameManager","onSelectCard","onUnselectCard","setPosition","backCard","active","isShowingBackCard","onDestroy","off","DebugViewRuntimeControl","_single","strSingle","strComposite","strMisc","compositeModeToggleList","singleModeToggleList","miscModeToggleList","textComponentList","labelComponentList","textContentList","hideButtonLabel","_currentColorIndex","strColor","color","Color","WHITE","BLACK","RED","GREEN","BLUE","canvas","parent","Canvas","uiTransform","UITransform","halfScreenWidth","width","halfScreenHeight","height","x","miscNode","getChildByName","buttonNode","name","titleNode","i","newLabel","EnableAllCompositeModeButton","setScale","labelComponent","overflow","currentRow","newNode","singleModeToggle","textComponent","getComponentInChildren","RichText","Toggle","TOGGLE","toggleSingleMode","CLICK","enableAllCompositeMode","changeColorButton","changeTextColor","HideButton","hideUI","compositeModeToggle","toggleComponent","isChecked","toggleLightingWithAlbedo","toggleCSMColoration","toggleCompositeMode","isTextMatched","textUI","textDescription","tempText","String","findIndex","search","substr","toggle","debugView","director","root","singleMode","enableCompositeMode","lightingWithAlbedo","csmLayerColoration","button","activeValue","update","deltaTime","GameList","onClick","evt","sceneName","loadScene","MAX_CARDS","SUITS","VALUES","deckOfCards","suitIndex","valueIndex","cardPower","location1","Math","floor","random","location2","tmp","selectedHand","loadDeck","resultDeck","removedCard","destroy","findHandBestCombinations","playerDeck","emit","position","v3","z","cardInfo","find","_ref","_ref2","selectedIndex","_ref3","splice","onPlayHand","cardTable","playHandButton","scheduleOnce","nextTurn","isTicking","_delay","label","callback","delay","startCount","stopCount","dt","abs","toFixed","_originalBottom","canvasNode","Widget","target","bottom","msg","type","contentSize","widgetComponent","UIOpacity","opacity","tween","to","easing","numberValue","Number","reduce","acc","curr","hasRoyalOr10","hasAce","getCanvasNode","_node","betAmount","isBlackjack","PREFIX","playerWalletAmount","ledger","showEffect","amountEffect","Animation","play"],"mappings":"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","file":"all.js","sourcesContent":["import { _decorator, Component, Node, Button, Label } from 'cc';\nconst { ccclass, property } = _decorator;\n\nconst BETS = [5, 10, 50, 100, 500, 1000, 5000];\n\n@ccclass('BetManager')\nexport class BetManager extends Component {\n\n    @property(Button) increaseBetBtn: Button;\n    @property(Button) decreaseBetBtn: Button;\n    @property(Label) betLabel: Label;\n\n    currIndex: number = 0;\n    playerBetAmount: number = 0;\n\n    protected start(): void {\n        this.betLabel.string = BETS[this.currIndex].toString();\n        this.playerBetAmount = BETS[this.currIndex];\n    }\n\n    resetBet() {\n        this.playerBetAmount = BETS[this.currIndex];\n    }\n\n    onDoubleDown() {\n        this.playerBetAmount *= 2;\n    }\n\n    onIncreaseBet() {\n        this.currIndex++;\n        if (this.currIndex > BETS.length - 1) this.currIndex = 0;\n        this.betLabel.string = BETS[this.currIndex].toString();\n        this.playerBetAmount = BETS[this.currIndex];\n    }\n\n    onDecreaseBet() {\n        this.currIndex--;\n        if (this.currIndex < 0) this.currIndex = BETS.length - 1;\n        this.betLabel.string = BETS[this.currIndex].toString();\n        this.playerBetAmount = BETS[this.currIndex];\n    }\n\n}\n\n","import { _decorator, Component, Label, Node, resources, SpriteFrame, error, instantiate, Sprite } from 'cc';\nimport { BlackJackGameManager, TURN_DURATION } from './BlackJackGameManager';\nimport { checkBlackJack, getTotalHandValue } from \"./utils\";\nimport { TimerManager } from './TimerManager';\nimport { CardManager } from './CardManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('BlackJackDealerManager')\nexport class BlackJackDealerManager extends Component {\n\n    @property(Node) dealerTable: Node;\n    @property(Label) dealerInfo: Label;\n\n    dealerHand: any[] = [];\n    dealerHandValue: number = 0;\n    _dealerTurn: boolean;\n    hasBlackJack: boolean;\n\n    startTurn() {\n        this._dealerTurn = true;\n        this.nextMove();\n    }\n\n    loadHand(hand) {\n        let allPromises = [];\n\n        hand.forEach(card => {\n            const { value, suit, cardNode } = card;\n            if (cardNode) return;\n            let assetName = value + \"_\" + suit;\n            allPromises.push(\n                new Promise((resolve, reject) => {\n                    resources.load(`face-cards/${assetName}/spriteFrame`, SpriteFrame, (err, asset) => {\n                        if (err) return reject(error(err.message));\n\n                        const node = instantiate(BlackJackGameManager.instance.cardPrefab);\n                        node.getComponent(Sprite).spriteFrame = asset;\n                        card.cardNode = node;\n                        card.cardNode.setParent(this.dealerTable);\n                        resolve(card);\n                    });\n                })\n            )\n        })\n\n        return Promise.all(allPromises)\n            .then(() => {\n                return hand;\n            })\n    }\n\n    updateHand(playerHand) {\n        this.dealerHandValue = getTotalHandValue(playerHand);\n        this.dealerInfo.string = `Dealer value: ${this.dealerHandValue}`;\n        const isBlackJack = checkBlackJack(playerHand);\n\n        if (isBlackJack) {\n            this.hasBlackJack = true;\n        } else if (this.dealerHandValue > 21) {\n            this.dealerInfo.string += `\\nDealer are busted !`;\n        }\n    }\n\n    dealOneCardDealer() {\n        this.dealerHand.push(BlackJackGameManager.instance.dealOneCard());\n        this.loadHand(this.dealerHand)\n            .then(() => {\n                if (this.dealerHand.length == 2) {\n                    this.dealerHand[1]\n                        .cardNode\n                        .getComponent(CardManager).showBackCard();\n                }\n                this.updateHand(this.dealerHand);\n                this._dealerTurn = false;\n                this.nextMove();\n            });\n    }\n\n    nextMove() {\n        if (this._dealerTurn) {\n            if (this.dealerHand.length < 2) {\n                this.dealOneCardDealer();\n\n            } else {\n                this.dealerHand[1]\n                    .cardNode\n                    .getComponent(CardManager).showFaceCard();\n\n                this.updateHand(this.dealerHand);\n                if (this.dealerHandValue < 17) {\n                    this.dealerHit();\n                } else {\n                    this.dealerInfo.string += `\\nDealer end turn`;\n                    BlackJackGameManager.instance.endDealerTurn(true);\n                }\n            }\n        } else {\n            BlackJackGameManager.instance.endDealerTurn();\n        }\n    }\n\n    dealerHit() {\n        this.dealerHand.push(BlackJackGameManager.instance.dealOneCard());\n\n        this.loadHand(this.dealerHand)\n            .then(() => {\n                this.updateHand(this.dealerHand);\n                TimerManager.instance._scheduleOnce(this.nextMove.bind(this), TURN_DURATION);\n            });\n    }\n\n    reset() {\n        this.dealerTable.removeAllChildren();\n        this.dealerHand = [];\n\n        this.dealerHandValue = 0;\n        this._dealerTurn = false;\n        this.hasBlackJack = false;\n        this.dealerInfo.string = \"Dealer value: 0\";\n    }\n\n}\n\n","import {\n    _decorator, Component, error, Node, resources, Sprite, SpriteFrame,\n    UITransform, v3, Prefab, Label, Button, instantiate\n} from 'cc';\nimport { BlackJackDealerManager } from './BlackJackDealerManager';\nimport { ToastManager } from './ToastManager';\nimport { checkBlackJack, getDeck, getTotalHandValue, shuffle } from './utils';\nimport { TimerManager } from './TimerManager';\nimport { BlackJackPlayerManager } from './BlackJackPlayerManager';\nconst { ccclass, property } = _decorator;\n\nexport const TURN_DURATION = 0.5;\n\n@ccclass('BlackJackGameManager')\nexport class BlackJackGameManager extends Component {\n\n    @property(Node) cardTable: Node;\n    @property(Prefab) cardPrefab: Prefab;\n\n    @property(Button) gameStartButton: Button;\n\n    @property(Node) dealer: BlackJackDealerManager;\n    @property(Node) player: BlackJackPlayerManager;\n    @property(ToastManager) toast: ToastManager;\n\n    static instance: BlackJackGameManager;\n\n    cardDeck: any[] = [];\n    playerTurn: boolean;\n\n    protected onLoad(): void {\n        BlackJackGameManager.instance = this;\n        this.dealer = this.dealer?.getComponent(BlackJackDealerManager);\n        this.player = this.player?.getComponent(BlackJackPlayerManager);\n    }\n\n    protected start(): void {\n        // this.gameStart();\n    }\n\n    gameStart() {\n        const deck = getDeck().concat(getDeck()).concat(getDeck());\n        shuffle(deck);\n        this.cardDeck = deck;\n        this.gameStartButton.interactable = false;\n        this.playerTurn = true;\n        this.player.onGameStart();\n        this.nextMove();\n    }\n\n    nextMove() {\n        if (this.playerTurn) {\n            this.player.startTurn();\n        } else {\n            this.dealer.startTurn();\n        }\n    }\n\n    dealOneCard() {\n        if (this.cardDeck.length == 0) return;\n        return this.cardDeck.pop();\n    }\n\n    endDealerTurn(isFinshed?) {\n        this.playerTurn = true;\n        if (isFinshed) {\n            this.showResult();\n        } else {\n            TimerManager.instance._scheduleOnce(this.nextMove.bind(this), TURN_DURATION);\n        }\n    }\n\n    endPlayerTurn() {\n        this.playerTurn = false;\n        TimerManager.instance._scheduleOnce(this.nextMove.bind(this), TURN_DURATION);\n    }\n\n    showResult() {\n        const playerHandValue = this.player.playerHandValue;\n        const dealerHandValue = this.dealer.dealerHandValue;\n        const playerHasBlackJack = this.player.hasBlackJack;\n        const dealerHasBlackJack = this.dealer.hasBlackJack;\n        const isPlayerBust = playerHandValue > 21;\n        const isDealerBust = dealerHandValue > 21;\n        let result;\n\n        if (isPlayerBust) {\n            if (isDealerBust) {\n                this.toast.showToast(\"Draw !!\", \"draw\");\n                result = \"draw\";\n            } else {\n                this.toast.showToast(\"You have lost\", \"lose\");\n                result = \"lose\";\n            }\n        } else if (isDealerBust) {\n            this.toast.showToast(\"You have won\", \"win\");\n            result = \"win\";\n        } else {\n            if (playerHasBlackJack) {\n                if (dealerHasBlackJack) {\n                    this.toast.showToast(\"Draw !!\", \"draw\");\n                    result = \"draw\";\n                } else {\n                    this.toast.showToast(\"You have won\", \"win\");\n                    result = \"win\";\n                }\n            } else if (playerHandValue > dealerHandValue) {\n                this.toast.showToast(\"You have won\", \"win\");\n                result = \"win\";\n            } else if (playerHandValue === dealerHandValue) {\n                this.toast.showToast(\"Draw !!\", \"draw\");\n                result = \"draw\";\n            } else {\n                this.toast.showToast(\"You have lost\", \"lose\");\n                result = \"lose\";\n            }\n        }\n\n        this.player.endGame(result);\n        this.gameStartButton.interactable = true;\n    }\n\n    onGameRestart() {\n        this.dealer.reset();\n        this.player.reset();\n\n        this.gameStart();\n    }\n\n}\n","import { Button } from 'cc';\nimport { _decorator, Component, Node } from 'cc';\nimport { TimerManager } from './TimerManager';\nimport { BlackJackGameManager, TURN_DURATION } from './BlackJackGameManager';\nimport { Label } from 'cc';\nimport { calculateWinnings, checkBlackJack, getTotalHandValue } from './utils';\nimport { ToastManager } from './ToastManager';\nimport { resources } from 'cc';\nimport { SpriteFrame, error, instantiate, Sprite } from 'cc';\nimport { BetManager } from './BetManager';\nimport { WalletManager } from './WalletManager';\nconst { ccclass, property } = _decorator;\nconst debugCards = [{ value: \"A\", suit: \"heart\", numberValue: 10 }, { value: \"K\", suit: \"heart\", numberValue: 10 }];\n\n@ccclass('BlackJackPlayerManager')\nexport class BlackJackPlayerManager extends Component {\n\n    @property(Node) playerTable: Node;\n    @property(Button) hitButton: Button;\n    @property(Button) endButton: Button;\n    @property(Button) doubleDownButton: Button;\n\n    @property(Label) handInfo: Label;\n    @property(Label) handShoutOut: Label;\n\n    @property(ToastManager) toast: ToastManager;\n    @property(BetManager) playerBet: BetManager;\n    @property(WalletManager) playerWallet: WalletManager;\n\n    hasBlackJack: boolean;\n    playerHand: any[] = [];\n    playerHandValue: number = 0;\n    isDoubleDown: boolean;\n\n    protected start(): void {\n        this.disableButtons();\n    }\n\n    onGameStart() {\n        this.updateWalletOnStart();\n    }\n\n    startTurn() {\n        if (this.hasBlackJack) {\n            this.onEndTurn();\n        } else if (this.playerHand.length <= 1) {\n            this.dealOneCardPlayer();\n            this.disableButtons();\n        } else {\n            this.enableButtons();\n        }\n        console.log(this.playerHand);\n    }\n\n    dealOneCardPlayer() {\n        this.playerHand.push(BlackJackGameManager.instance.dealOneCard());\n        // this.playerHand.push(debugCards.pop());\n\n        this.loadHand(this.playerHand)\n            .then(() => {\n                this.updateHand(this.playerHand);\n                BlackJackGameManager.instance.endPlayerTurn();\n            });\n    }\n\n    disableButtons() {\n        this.hitButton.interactable = false;\n        this.endButton.interactable = false;\n        this.doubleDownButton.interactable = false;\n    }\n\n    enableButtons() {\n        this.hitButton.interactable = true;\n        this.endButton.interactable = true;\n        this.doubleDownButton.interactable = true;\n    }\n\n    updateHand(playerHand) {\n        this.playerHandValue = getTotalHandValue(playerHand);\n        this.handInfo.string = `Total value: ${this.playerHandValue}`;\n        this.hasBlackJack = checkBlackJack(playerHand);\n\n        if (this.hasBlackJack) {\n            this.disableButtons();\n            this.handInfo.string += `\\nWow! Black Jack !!!`;\n            this.handShoutOut.string = \"BLACK JACK !!!\";\n            this.toast.showToast(\"You have hit a black jack !!!\", \"blackJack\");\n        } else if (this.playerHandValue > 21) {\n            this.handInfo.string += `\\nYou are busted !`;\n            this.onEndTurn();\n        }\n    }\n\n    loadHand(hand) {\n        let allPromises = [];\n\n        hand.forEach(card => {\n            const { value, suit, cardNode } = card;\n            if (cardNode) return;\n            let assetName = value + \"_\" + suit;\n            allPromises.push(\n                new Promise((resolve, reject) => {\n                    resources.load(`face-cards/${assetName}/spriteFrame`, SpriteFrame, (err, asset) => {\n                        if (err) return reject(error(err.message));\n\n                        const node = instantiate(BlackJackGameManager.instance.cardPrefab);\n                        node.getComponent(Sprite).spriteFrame = asset;\n                        card.cardNode = node;\n                        card.cardNode.setParent(this.playerTable);\n                        resolve(card);\n                    });\n                })\n            )\n        })\n\n        return Promise.all(allPromises)\n            .then(() => {\n                return hand;\n            })\n    }\n\n    onHit() {\n        this.playerHand.push(BlackJackGameManager.instance.dealOneCard());\n        if (this.playerHand.length > 2) {\n            this.doubleDownButton.interactable = false;\n        }\n\n        this.loadHand(this.playerHand)\n            .then(() => {\n                this.updateHand(this.playerHand);\n            });\n    }\n\n    onEndTurn() {\n        this.disableButtons();\n        BlackJackGameManager.instance.endPlayerTurn();\n    }\n\n    onDoubleDown() {\n        this.isDoubleDown = true;\n        this.handShoutOut.string = \"DOUBLE DOWN !!!\";\n        this.playerWallet.subMoney(this.playerBet.playerBetAmount);\n        this.playerBet.onDoubleDown();\n        this.dealOneCardPlayer();\n    }\n\n    endGame(result) {\n        this.disableButtons();\n\n        switch (result) {\n            case \"win\":\n                const winAmount = this.playerBet.playerBetAmount + calculateWinnings(this.playerBet.playerBetAmount, this.hasBlackJack);\n                this.playerWallet.addMoney(winAmount);\n                break;\n            case \"draw\":\n                this.playerWallet.addMoney(this.playerBet.playerBetAmount);\n                break;\n            case \"lose\":\n            default:\n                break;\n        }\n    }\n\n    updateWalletOnStart() {\n        this.playerBet.resetBet();\n        this.playerWallet.subMoney(this.playerBet.playerBetAmount);\n    }\n\n    reset() {\n        this.playerTable.removeAllChildren();\n        this.hasBlackJack = false;\n        this.isDoubleDown = false;\n        this.playerHand = [];\n        this.handShoutOut.string = \"\";\n        this.enableButtons();\n    }\n\n}\n\n","import { _decorator, Component, Node, error, Sprite } from 'cc';\nimport { GameManager } from './GameManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('CardManager')\nexport class CardManager extends Component {\n\n    @property(Node) backCard: Node;\n\n    isSelected: boolean;\n\n    start() {\n        this.node.on(\"INIT\", this.init, this);\n    }\n\n    init() {\n        this.node.on(Node.EventType.MOUSE_DOWN, this.onMouseDown, this);\n    }\n\n    onMouseDown() {\n        this.isSelected = !this.isSelected;\n\n        let pos = this.node.getPosition();\n        if (this.isSelected) {\n            pos.y = 20;\n            GameManager.instance.onSelectCard(this.node);\n        } else {\n            pos.y = 0\n            GameManager.instance.onUnselectCard(this.node);\n        }\n\n        this.node.setPosition(pos);\n    }\n\n    showBackCard() {\n        this.backCard.active = true;\n    }\n\n    isShowingBackCard() {\n        return !!this.backCard.active;\n    }\n\n    showFaceCard() {\n        this.backCard.active = false;\n    }\n\n    protected onDestroy(): void {\n        this.node.off(Node.EventType.MOUSE_DOWN, this.onMouseDown, this);\n    }\n\n}\n\n","import { Color, Canvas, UITransform, instantiate, math, Toggle, TextureCube, _decorator, Component, Button, labelAssembler, game, director, Node, Scene, renderer, CameraComponent, Label, ForwardPipeline, RichText } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('internal.DebugViewRuntimeControl')\nexport class DebugViewRuntimeControl extends Component {\n    @property(Node)\n    compositeModeToggle: Node | null = null;\n    @property(Node)\n    singleModeToggle: Node | null = null;\n    @property(Node)\n    EnableAllCompositeModeButton: Node | null = null;\n\t_single: number = 0;\n\n    private strSingle: string[] = [\n        'No Single Debug',\n        'Vertex Color',\n        'Vertex Normal',\n        'Vertex Tangent',\n        'World Position',\n        'Vertex Mirror',\n        'Face Side',\n        'UV0',\n        'UV1',\n        'UV Lightmap',\n        'Project Depth',\n        'Linear Depth',\n\n        'Fragment Normal',\n        'Fragment Tangent',\n        'Fragment Binormal',\n        'Base Color',\n        'Diffuse Color',\n        'Specular Color',\n        'Transparency',\n        'Metallic',\n        'Roughness',\n        'Specular Intensity',\n        'IOR',\n\n        'Direct Diffuse',\n        'Direct Specular',\n        'Direct All',\n        'Env Diffuse',\n        'Env Specular',\n        'Env All',\n        'Emissive',\n        'Light Map',\n        'Shadow',\n        'AO',\n\n        'Fresnel',\n        'Direct Transmit Diffuse',\n        'Direct Transmit Specular',\n        'Env Transmit Diffuse',\n        'Env Transmit Specular',\n        'Transmit All',\n        'Direct Internal Specular',\n        'Env Internal Specular',\n        'Internal All',\n\n        'Fog',\n    ];\n    private strComposite: string[] = [\n        'Direct Diffuse',\n        'Direct Specular',\n        'Env Diffuse',\n        'Env Specular',\n        'Emissive',\n        'Light Map',\n        'Shadow',\n        'AO',\n\n        'Normal Map',\n        'Fog',\n\n        'Tone Mapping',\n        'Gamma Correction',\n\n        'Fresnel',\n        'Transmit Diffuse',\n        'Transmit Specular',\n        'Internal Specular',\n        'TT',\n    ];\n    private strMisc: string[] = [\n        'CSM Layer Coloration',\n        'Lighting With Albedo',\n    ];\n\n    private compositeModeToggleList: Node[] = [];\n    private singleModeToggleList: Node[] = [];\n    private miscModeToggleList: Node[] = [];\n    private textComponentList: RichText[] = [];\n    private labelComponentList: Label[] = [];\n    private textContentList: string[] = [];\n    private hideButtonLabel: Label;\n    start() {\n        // get canvas resolution\n        const canvas = this.node.parent.getComponent(Canvas);\n        if (!canvas) {\n            console.error('debug-view-runtime-control should be child of Canvas');\n            return;\n        }\n\n        const uiTransform = this.node.parent.getComponent(UITransform);\n        const halfScreenWidth = uiTransform.width * 0.5;\n        const halfScreenHeight = uiTransform.height * 0.5;\n\n        let x = -halfScreenWidth + halfScreenWidth * 0.1, y = halfScreenHeight - halfScreenHeight * 0.1;\n        const width = 200, height = 20;\n\n        // new nodes\n        const miscNode = this.node.getChildByName('MiscMode');\n        const buttonNode = instantiate(miscNode);\n        buttonNode.parent = this.node;\n        buttonNode.name = 'Buttons';\n        const titleNode = instantiate(miscNode);\n        titleNode.parent = this.node;\n        titleNode.name = 'Titles';\n\n        // title\n        for (let i = 0; i < 2; i++) {\n            const newLabel = instantiate(this.EnableAllCompositeModeButton.getChildByName('Label'));\n            newLabel.setPosition(x + (i > 0 ? 50 + width * 2 : 150), y, 0.0);\n            newLabel.setScale(0.75, 0.75, 0.75);\n            newLabel.parent = titleNode;\n            const labelComponent = newLabel.getComponent(Label);\n            labelComponent.string = i ? '----------Composite Mode----------' : '----------Single Mode----------';\n            labelComponent.color = Color.WHITE;\n            labelComponent.overflow = 0;\n            this.labelComponentList[this.labelComponentList.length] = labelComponent;\n        }\n\n        y -= height;\n        // single\n        let currentRow = 0;\n        for (let i = 0; i < this.strSingle.length; i++, currentRow++) {\n            if (i === this.strSingle.length >> 1) {\n                x += width;\n                currentRow = 0;\n            }\n            const newNode = i ? instantiate(this.singleModeToggle) : this.singleModeToggle;\n            newNode.setPosition(x, y - height * currentRow, 0.0);\n            newNode.setScale(0.5, 0.5, 0.5);\n            newNode.parent = this.singleModeToggle.parent;\n\n            const textComponent = newNode.getComponentInChildren(RichText);\n            textComponent.string = this.strSingle[i];\n            this.textComponentList[this.textComponentList.length] = textComponent;\n            this.textContentList[this.textContentList.length] = textComponent.string;\n\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleSingleMode, this);\n\n            this.singleModeToggleList[i] = newNode;\n        }\n\n        x += width;\n        // buttons\n        this.EnableAllCompositeModeButton.setPosition(x + 15, y, 0.0);\n        this.EnableAllCompositeModeButton.setScale(0.5, 0.5, 0.5);\n        this.EnableAllCompositeModeButton.on(Button.EventType.CLICK, this.enableAllCompositeMode, this);\n        this.EnableAllCompositeModeButton.parent = buttonNode;\n        let labelComponent = this.EnableAllCompositeModeButton.getComponentInChildren(Label);\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\n\n        const changeColorButton = instantiate(this.EnableAllCompositeModeButton);\n        changeColorButton.setPosition(x + 90, y, 0.0);\n        changeColorButton.setScale(0.5, 0.5, 0.5);\n        changeColorButton.on(Button.EventType.CLICK, this.changeTextColor, this);\n        changeColorButton.parent = buttonNode;\n        labelComponent = changeColorButton.getComponentInChildren(Label);\n        labelComponent.string = 'TextColor';\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\n\n        const HideButton = instantiate(this.EnableAllCompositeModeButton);\n        HideButton.setPosition(x + 200, y, 0.0);\n        HideButton.setScale(0.5, 0.5, 0.5);\n        HideButton.on(Button.EventType.CLICK, this.hideUI, this);\n        HideButton.parent = this.node.parent;\n        labelComponent = HideButton.getComponentInChildren(Label);\n        labelComponent.string = 'Hide UI';\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\n        this.hideButtonLabel = labelComponent;\n\n        // misc\n        y -= 40;\n        for (let i = 0; i < this.strMisc.length; i++) {\n            const newNode = instantiate(this.compositeModeToggle);\n            newNode.setPosition(x, y - height * i, 0.0);\n            newNode.setScale(0.5, 0.5, 0.5);\n            newNode.parent = miscNode;\n\n            const textComponent = newNode.getComponentInChildren(RichText);\n            textComponent.string = this.strMisc[i];\n            this.textComponentList[this.textComponentList.length] = textComponent;\n            this.textContentList[this.textContentList.length] = textComponent.string;\n\n            const toggleComponent = newNode.getComponent(Toggle);\n            toggleComponent.isChecked = i ? true : false;\n            newNode.on(Toggle.EventType.TOGGLE, i ? this.toggleLightingWithAlbedo : this.toggleCSMColoration, this);\n            this.miscModeToggleList[i] = newNode;\n        }\n\n        // composite\n        y -= 150;\n        for (let i = 0; i < this.strComposite.length; i++) {\n            const newNode = i ? instantiate(this.compositeModeToggle) : this.compositeModeToggle;\n            newNode.setPosition(x, y - height * i, 0.0);\n            newNode.setScale(0.5, 0.5, 0.5);\n            newNode.parent = this.compositeModeToggle.parent;\n\n            const textComponent = newNode.getComponentInChildren(RichText);\n            textComponent.string = this.strComposite[i];\n            this.textComponentList[this.textComponentList.length] = textComponent;\n            this.textContentList[this.textContentList.length] = textComponent.string;\n\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleCompositeMode, this);\n\n            this.compositeModeToggleList[i] = newNode;\n        }\n    }\n\n    isTextMatched(textUI, textDescription) : boolean {\n        let tempText = new String(textUI);\n        const findIndex = tempText.search('>');\n        if (findIndex === -1) {\n            return textUI === textDescription;\n        } else {\n            tempText = tempText.substr(findIndex + 1);\n            tempText = tempText.substr(0, tempText.search('<'));\n            return tempText === textDescription;\n        }\n    }\n    toggleSingleMode(toggle: Toggle) {\n        const debugView = director.root!.debugView;\n        const textComponent = toggle.getComponentInChildren(RichText);\n        for (let i = 0; i < this.strSingle.length; i++) {\n            if (this.isTextMatched(textComponent.string, this.strSingle[i])) {\n                debugView.singleMode = i;\n            }\n        }\n    }\n    toggleCompositeMode(toggle: Toggle) {\n        const debugView = director.root!.debugView;\n        const textComponent = toggle.getComponentInChildren(RichText);\n        for (let i = 0; i < this.strComposite.length; i++) {\n            if (this.isTextMatched(textComponent.string, this.strComposite[i])) {\n                debugView.enableCompositeMode(i, toggle.isChecked);\n            }\n        }\n    }\n    toggleLightingWithAlbedo(toggle: Toggle) {\n        const debugView = director.root!.debugView;\n        debugView.lightingWithAlbedo = toggle.isChecked;\n    }\n    toggleCSMColoration(toggle: Toggle) {\n        const debugView = director.root!.debugView;\n        debugView.csmLayerColoration = toggle.isChecked;\n    }\n    enableAllCompositeMode(button: Button) {\n        const debugView = director.root!.debugView;\n        debugView.enableAllCompositeMode(true);\n        for (let i = 0; i < this.compositeModeToggleList.length; i++) {\n            const toggleComponent = this.compositeModeToggleList[i].getComponent(Toggle);\n            toggleComponent.isChecked = true;\n        }\n\n        let toggleComponent = this.miscModeToggleList[0].getComponent(Toggle);\n        toggleComponent.isChecked = false;\n        debugView.csmLayerColoration = false;\n        toggleComponent = this.miscModeToggleList[1].getComponent(Toggle);\n        toggleComponent.isChecked = true;\n        debugView.lightingWithAlbedo = true;\n    }\n    hideUI(button: Button) {\n        const titleNode = this.node.getChildByName('Titles');\n        const activeValue = !titleNode.active;\n        this.singleModeToggleList[0].parent.active = activeValue;\n        this.miscModeToggleList[0].parent.active = activeValue;\n        this.compositeModeToggleList[0].parent.active = activeValue;\n        this.EnableAllCompositeModeButton.parent.active = activeValue;\n        titleNode.active = activeValue;\n        this.hideButtonLabel.string = activeValue ? 'Hide UI' : 'Show UI';\n    }\n\n    private _currentColorIndex = 0;\n    private strColor: string[] = [\n        '<color=#ffffff>',\n        '<color=#000000>',\n        '<color=#ff0000>',\n        '<color=#00ff00>',\n        '<color=#0000ff>',\n    ];\n    private color: Color[] = [\n        Color.WHITE,\n        Color.BLACK,\n        Color.RED,\n        Color.GREEN,\n        Color.BLUE,\n    ];\n    changeTextColor(button: Button) {\n        this._currentColorIndex++;\n        if (this._currentColorIndex >= this.strColor.length) {\n            this._currentColorIndex = 0;\n        }\n        for (let i = 0; i < this.textComponentList.length; i++) {\n            this.textComponentList[i].string = this.strColor[this._currentColorIndex] + this.textContentList[i] + '</color>';\n        }\n        for (let i = 0; i < this.labelComponentList.length; i++) {\n            this.labelComponentList[i].color = this.color[this._currentColorIndex];\n        }\n    }\n\n    onLoad() {\n    }\n    update(deltaTime: number) {\n    }\n}\n","import { director } from 'cc';\nimport { _decorator, Component, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('GameList')\nexport class GameList extends Component {\n\n    onClick(evt, sceneName) {\n        director.loadScene(sceneName, (err) => {\n            if (err) return console.error(err);\n            console.log(\"=== Load scene successfully ===\");\n        });\n    }\n\n}\n\n","import { Prefab } from 'cc';\nimport { Button } from 'cc';\nimport { instantiate } from 'cc';\nimport { _decorator, Component, error, Node, resources, Sprite, SpriteFrame, UITransform, v3 } from 'cc';\nconst { ccclass, property } = _decorator;\n\nconst MAX_CARDS = 52;\nconst SUITS = [\"spade\", \"diamond\", \"club\", \"heart\"];\nconst VALUES = [\"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"J\", \"Q\", \"K\", \"A\"];\n\nfunction getDeck() {\n    let deckOfCards = [];\n\n    for (let suitIndex = 0; suitIndex < SUITS.length; suitIndex++) {\n        for (let valueIndex = 0; valueIndex < VALUES.length; valueIndex++) {\n            let cardPower = valueIndex * SUITS.length + suitIndex;\n            let card = {\n                value: VALUES[valueIndex],\n                suit: SUITS[suitIndex],\n                cardPower\n            };\n            deckOfCards.push(card);\n        }\n    }\n    // console.log(deckOfCards.slice().sort((a,b) => a.cardPower - b.cardPower));\n    return deckOfCards\n}\n\nfunction shuffle(deck) {\n    // for 1000 turns\n    // switch the values of two random cards\n    for (let i = 0; i < 1000; i++) {\n        let location1 = Math.floor((Math.random() * deck.length));\n        let location2 = Math.floor((Math.random() * deck.length));\n        let tmp = deck[location1];\n\n        deck[location1] = deck[location2];\n        deck[location2] = tmp;\n    }\n}\n\n@ccclass('GameManager')\nexport class GameManager extends Component {\n\n    @property(Node) cardTable: Node;\n    @property(Node) playerDeck: Node;\n    @property(Prefab) cardPrefab: Prefab;\n    @property(Button) playHandButton: Button;\n\n    static instance: GameManager;\n\n    playerHand: any[] = [];\n    selectedHand: any[] = [];\n    cardDeck: any[] = [];\n\n    protected start(): void {\n        GameManager.instance = this;\n        this.gameStart();\n    }\n\n    gameStart() {\n        const deck = getDeck();\n        shuffle(deck)\n        this.cardDeck = deck;\n\n        return this.loadDeck(deck)\n            .then((resultDeck) => {\n                let playerHand = [];\n                for (let i = 0; i < MAX_CARDS; i++) {\n                    if (i % 4 == 0) {\n                        playerHand.push(resultDeck.pop());\n                    } else {\n                        const removedCard = resultDeck.pop();\n                        removedCard.cardNode.destroy();\n                    }\n                }\n                this.findHandBestCombinations(playerHand);\n                playerHand.forEach(card => {\n                    card.cardNode.setParent(this.playerDeck);\n                    card.cardNode.emit(\"INIT\");\n                    const position = card.cardNode.getPosition();\n                    card.cardNode.setPosition(v3(position.x, 0, position.z));\n                });\n\n                this.playerHand = playerHand;\n            });\n    }\n\n    loadDeck(deck) {\n        let allPromises = [];\n\n        deck.forEach(card => {\n            const { value, suit } = card;\n            let assetName = value + \"_\" + suit;\n            allPromises.push(\n                new Promise((resolve, reject) => {\n                    resources.load(`face-cards/${assetName}/spriteFrame`, SpriteFrame, (err, asset) => {\n                        if (err) return reject(error(err.message));\n\n                        const node = instantiate(this.cardPrefab);\n                        node.getComponent(Sprite).spriteFrame = asset;\n                        card.cardNode = node;\n                        resolve(card);\n                    });\n                })\n            )\n        })\n\n        return Promise.all(allPromises)\n            .then(() => {\n                return deck;\n            })\n    }\n\n    onSelectCard(card) {\n        const cardInfo = this.playerHand.find(({ cardNode }) => cardNode === card);\n        const isSelected = this.selectedHand.find(({ cardNode }) => cardNode === card);\n        if (!cardInfo || isSelected) return;\n\n        this.selectedHand.push(cardInfo);\n        console.log(\"Selected hand: \", this.selectedHand);\n    }\n\n    onUnselectCard(card) {\n        const selectedIndex = this.selectedHand.findIndex(({ cardNode }) => cardNode === card);\n        if (selectedIndex == -1) return;\n\n        this.selectedHand.splice(selectedIndex, 1);\n        console.log(\"Selected hand: \", this.selectedHand);\n    }\n\n    onPlayHand() {\n        if (!this.selectedHand.length) {\n            console.log(\"No selected hand to play\");\n            return;\n        }\n\n        this.selectedHand.forEach(card => {\n            const { cardNode } = card;\n            cardNode.setParent(this.cardTable);\n        });\n\n        this.selectedHand = [];\n        this.playHandButton.interactable = false;\n        this.scheduleOnce(this.nextTurn, 1);\n    }\n\n    nextTurn() {\n        this.playHandButton.interactable = true;\n        this.cardTable.removeAllChildren();\n    }\n\n    findHandBestCombinations(hand) {\n\n    }\n\n}\n","import { Label } from 'cc';\nimport { _decorator, Component, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('TimerManager')\nexport class TimerManager extends Component {\n\n    isTicking: boolean;\n    _delay: number = 0;\n    label: Label;\n\n    static instance: TimerManager;\n\n    protected onLoad(): void {\n        TimerManager.instance = this;\n        this.label = this.getComponent(Label);\n    }\n\n    _scheduleOnce(callback, delay) {\n        TimerManager.instance.startCount(delay);\n        return this.scheduleOnce(callback, delay);\n    }\n\n    startCount(delay) {\n        this.isTicking = true;\n        this._delay = delay;\n    }\n\n    stopCount() {\n        this.isTicking = false;\n    }\n\n    protected update(dt: number): void {\n        if (!this.isTicking) return;\n        if (this._delay > 0) {\n            this._delay -= dt;\n        } else {\n            this._delay = 0;\n            this.label.string = \"Time: 0\";\n            return;\n        }\n\n        this.label.string = \"Time: \" + Math.abs(this._delay).toFixed(0);\n    }\n\n}\n\n","import {\n    _decorator, Component, Node, UITransform,\n    Label, UIOpacity, tween, Widget, Sprite, Color\n} from 'cc';\nimport { find } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ToastManager')\nexport class ToastManager extends Component {\n\n    @property(Color) winColor: Color = new Color(\"#1BAA00\");\n    @property(Color) loseColor: Color = new Color(\"#AA1400\");\n    @property(Color) drawColor: Color = new Color(\"#00A6CF\");\n    @property(Color) blackJackColor: Color = new Color(\"#00A6CF\");\n\n    _originalBottom: number = 0;\n\n    protected onLoad(): void {\n        const canvasNode = find(\"Canvas\");\n        this.getComponent(Widget).target = canvasNode;\n        this._originalBottom = this.getComponent(Widget).bottom;\n    }\n\n    showToast(msg = \"Your message\", type = \"win\") {\n        const height = this.getComponent(UITransform).contentSize.height;\n        const widgetComponent = this.getComponent(Widget);\n\n        this.getComponentInChildren(Label).string = msg;\n        this.getComponent(UIOpacity).opacity = 255;\n\n        if (this[type + \"Color\"]) this.getComponent(Sprite).color = this[type + \"Color\"];\n        if (widgetComponent) {\n            widgetComponent.bottom = -height;\n\n            tween(widgetComponent)\n                .to(0.5, { bottom: this._originalBottom }, { easing: \"backOut\" })\n                .delay(2)\n                .to(0.5, { bottom: -height }, { easing: \"backIn\" })\n                .call(() => {\n                    this.getComponent(UIOpacity).opacity = 0;\n                })\n                .start();\n        }\n    }\n}\n\n","import { Canvas, Node } from \"cc\";\nimport { CardManager } from \"./CardManager\";\n\nexport const MAX_CARDS = 52;\nexport const SUITS = [\"spade\", \"diamond\", \"club\", \"heart\"];\nexport const VALUES = [\"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"J\", \"Q\", \"K\", \"A\"];\n\nexport function getDeck() {\n    let deckOfCards = [];\n    for (let suitIndex = 0; suitIndex < SUITS.length; suitIndex++) {\n        for (let valueIndex = 0; valueIndex < VALUES.length; valueIndex++) {\n            let card = {\n                value: VALUES[valueIndex],\n                suit: SUITS[suitIndex],\n                numberValue: Number(VALUES[valueIndex]) || 10,\n            };\n            deckOfCards.push(card);\n        }\n    }\n    return deckOfCards\n}\n\nexport function getTotalHandValue(playerHand) {\n    return playerHand.reduce((acc, curr) => {\n        if (!curr.cardNode) {\n            debugger;\n            return;\n        }\n        if (curr.cardNode.getComponent(CardManager).isShowingBackCard()) return acc;\n        return acc + curr.numberValue;\n    }, 0)\n}\n\nexport function checkBlackJack(playerHand) {\n    if (playerHand.length > 2) return;\n    let hasRoyalOr10;\n    let hasAce;\n    playerHand.forEach(card => {\n        if (card.value == \"A\") {\n            hasAce = true;\n        } else if (!Number(card.value) || card.value == 10) {\n            hasRoyalOr10 = true;\n        }\n    });\n    return hasRoyalOr10 && hasAce;\n}\n\nexport function shuffle(deck) {\n    // for 1000 turns\n    // switch the values of two random cards\n    for (let i = 0; i < 1000; i++) {\n        let location1 = Math.floor((Math.random() * deck.length));\n        let location2 = Math.floor((Math.random() * deck.length));\n        let tmp = deck[location1];\n\n        deck[location1] = deck[location2];\n        deck[location2] = tmp;\n    }\n}\n\nlet canvasNode;\nexport function getCanvasNode(node: Node) {\n    if (canvasNode) return canvasNode;\n    let _node = node;\n    while (!_node.getComponent(Canvas)) {\n        _node = node.parent;\n\n    }\n    canvasNode = _node;\n    return _node;\n}\n\nexport function calculateWinnings(betAmount, isBlackjack) {\n    if (isBlackjack) {\n        return betAmount * 1.5; // 3:2 payout for blackjack\n    } else {\n        return betAmount; // 1:1 payout for regular win\n    }\n}\n","import { Animation } from 'cc';\nimport { _decorator, Component, Node, Label } from 'cc';\nconst { ccclass, property } = _decorator;\n\nconst PREFIX = \"Wallet: \";\n\n@ccclass('WalletManager')\nexport class WalletManager extends Component {\n\n    @property(Node) amountEffect: Node;\n\n    playerWalletAmount: number = 100000;\n    label: Label;\n    ledger: string = \"\";\n\n    protected start(): void {\n        this.label = this.getComponent(Label);\n        this.label.string = PREFIX + this.playerWalletAmount.toString();\n\n        this.node.on(Node.EventType.MOUSE_DOWN, () => console.log(this.ledger), this);\n    }\n\n    addMoney(value = 0) {\n        this.playerWalletAmount += value;\n        this.label.string = PREFIX + this.playerWalletAmount.toString();\n\n        this.ledger += `+ ${value}\\n`;\n        this.showEffect(value);\n    }\n\n    subMoney(value = 0) {\n        this.playerWalletAmount -= value;\n        this.label.string = PREFIX + this.playerWalletAmount.toString();\n\n        this.ledger += `- ${value}\\n`;\n        this.showEffect(value * -1);\n    }\n\n    showEffect(value) {\n        this.amountEffect.getComponent(Label).string = value.toString();\n        this.amountEffect.getComponent(Animation).play();\n    }\n\n}\n\n"]}