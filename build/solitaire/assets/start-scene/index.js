System.register("chunks:///_virtual/BetManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,a,o,s,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Button,u=e.Label,c=e.Component}],execute:function(){var l,h,p,B,b,d,g,y,f;a._RF.push({},"07b14h51OVCmLm+sW4GMCaB","BetManager",void 0);var I=o.ccclass,x=o.property,m=[5,10,50,100,500,1e3,5e3];e("BetManager",(l=I("BetManager"),h=x(s),p=x(s),B=x(u),l((g=t((d=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"increaseBetBtn",g,i(t)),n(t,"decreaseBetBtn",y,i(t)),n(t,"betLabel",f,i(t)),t.currIndex=0,t.playerBetAmount=0,t}r(t,e);var a=t.prototype;return a.start=function(){this.betLabel.string=m[this.currIndex].toString(),this.playerBetAmount=m[this.currIndex]},a.resetBet=function(){this.playerBetAmount=m[this.currIndex]},a.onDoubleDown=function(){this.playerBetAmount*=2},a.onIncreaseBet=function(){this.currIndex++,this.currIndex>m.length-1&&(this.currIndex=0),this.betLabel.string=m[this.currIndex].toString(),this.playerBetAmount=m[this.currIndex]},a.onDecreaseBet=function(){this.currIndex--,this.currIndex<0&&(this.currIndex=m.length-1),this.betLabel.string=m[this.currIndex].toString(),this.playerBetAmount=m[this.currIndex]},t}(c)).prototype,"increaseBetBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(d.prototype,"decreaseBetBtn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(d.prototype,"betLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=d))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/BlackJackDealerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BlackJackGameManager.ts","./utils.ts","./TimerManager.ts","./CardManager.ts"],(function(e){var a,n,r,t,l,d,i,s,c,o,u,h,f,H,p;return{setters:[function(e){a=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){l=e.cclegacy,d=e._decorator,i=e.Node,s=e.Label,c=e.Component},function(e){o=e.BlackJackGameManager,u=e.TURN_DURATION},function(e){h=e.getTotalHandValue,f=e.checkBlackJack},function(e){H=e.TimerManager},function(e){p=e.CardManager}],execute:function(){var g,k,T,v,D,b,M;l._RF.push({},"f3e3ekrxpdH56yfq/KnEgTi","BlackJackDealerManager",void 0);var B=d.ccclass,C=d.property;e("BlackJackDealerManager",(g=B("BlackJackDealerManager"),k=C(i),T=C(s),g((b=a((D=function(e){function a(){for(var a,n=arguments.length,l=new Array(n),d=0;d<n;d++)l[d]=arguments[d];return a=e.call.apply(e,[this].concat(l))||this,r(a,"dealerTable",b,t(a)),r(a,"dealerInfo",M,t(a)),a.dealerHand=[],a.dealerHandValue=0,a._dealerTurn=void 0,a.hasBlackJack=void 0,a}n(a,e);var l=a.prototype;return l.startTurn=function(){this._dealerTurn=!0,this.nextMove()},l.updateHand=function(e){this.dealerHandValue=h(e),this.dealerInfo.string="Dealer value: "+this.dealerHandValue,f(e)?this.hasBlackJack=!0:this.dealerHandValue>21&&(this.dealerInfo.string+="\nDealer are busted !")},l.dealOneCardDealer=function(){var e=this;this.dealerHand.push(o.instance.dealOneCard()),o.instance.loadHand(this.dealerHand,this.dealerTable).then((function(){2==e.dealerHand.length&&e.dealerHand[1].cardNode.getComponent(p).showBackCard(),e.updateHand(e.dealerHand),e._dealerTurn=!1,e.nextMove()}))},l.nextMove=function(){this._dealerTurn?this.dealerHand.length<2?this.dealOneCardDealer():(this.dealerHand[1].cardNode.getComponent(p).showFaceCard(),this.updateHand(this.dealerHand),this.dealerHandValue<17?this.dealerHit():(this.dealerInfo.string+="\nDealer end turn",o.instance.endDealerTurn(!0))):o.instance.endDealerTurn()},l.dealerHit=function(){var e=this;this.dealerHand.push(o.instance.dealOneCard()),o.instance.loadHand(this.dealerHand,this.dealerTable).then((function(){e.updateHand(e.dealerHand),H.instance._scheduleOnce(e.nextMove.bind(e),u)}))},l.reset=function(){this.dealerTable.removeAllChildren(),this.dealerHand=[],this.dealerHandValue=0,this._dealerTurn=!1,this.hasBlackJack=!1,this.dealerInfo.string="Dealer value: 0"},a}(c)).prototype,"dealerTable",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=a(D.prototype,"dealerInfo",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=D))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/BlackJackGameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BlackJackDealerManager.ts","./ToastManager.ts","./utils.ts","./TimerManager.ts","./BlackJackPlayerManager.ts"],(function(e){var a,t,r,n,i,o,s,l,c,u,h,d,p,f,w,g,m,y,b,v,T,k,B;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Node,l=e.Prefab,c=e.Button,u=e.Size,h=e.resources,d=e.SpriteFrame,p=e.error,f=e.instantiate,w=e.Sprite,g=e.UITransform,m=e.Component},function(e){y=e.BlackJackDealerManager},function(e){b=e.ToastManager},function(e){v=e.getDeck,T=e.shuffle},function(e){k=e.TimerManager},function(e){B=e.BlackJackPlayerManager}],execute:function(){var M,D,S,P,z,J,_,C,G,N,R,Y,x,F,H,L;i._RF.push({},"2dad6voBrdLPpEe9NYJHrTr","BlackJackGameManager",void 0);var O=o.ccclass,I=o.property,U=e("TURN_DURATION",.5);e("BlackJackGameManager",(M=O("BlackJackGameManager"),D=I(s),S=I(l),P=I(c),z=I(s),J=I(s),_=I(b),M(((L=function(e){function a(){for(var a,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,r(a,"cardTable",N,n(a)),r(a,"cardPrefab",R,n(a)),r(a,"gameStartButton",Y,n(a)),r(a,"dealer",x,n(a)),r(a,"player",F,n(a)),r(a,"toast",H,n(a)),a.cardDeck=[],a.playerTurn=void 0,a.cardSize=new u(68,100),a}t(a,e);var i=a.prototype;return i.onLoad=function(){var e,t;a.instance=this,this.dealer=null==(e=this.dealer)?void 0:e.getComponent(y),this.player=null==(t=this.player)?void 0:t.getComponent(B)},i.start=function(){},i.gameStart=function(){var e=v().concat(v()).concat(v());T(e),this.cardDeck=e,this.gameStartButton.interactable=!1,this.playerTurn=!0,this.player.onGameStart(),this.nextMove()},i.nextMove=function(){this.playerTurn?this.player.startTurn():this.dealer.startTurn()},i.dealOneCard=function(){if(0!=this.cardDeck.length)return this.cardDeck.pop()},i.endDealerTurn=function(e){this.playerTurn=!0,e?this.showResult():k.instance._scheduleOnce(this.nextMove.bind(this),U)},i.endPlayerTurn=function(){this.playerTurn=!1,k.instance._scheduleOnce(this.nextMove.bind(this),U)},i.showResult=function(){var e,a=this.player.playerHandValue,t=this.dealer.dealerHandValue,r=this.player.hasBlackJack,n=this.dealer.hasBlackJack,i=t>21;a>21?i?(this.toast.showToast("Draw !!","draw"),e="draw"):(this.toast.showToast("You have lost","lose"),e="lose"):i?(this.toast.showToast("You have won","win"),e="win"):r?n?(this.toast.showToast("Draw !!","draw"),e="draw"):(this.toast.showToast("You have won","win"),e="win"):a>t?(this.toast.showToast("You have won","win"),e="win"):a===t?(this.toast.showToast("Draw !!","draw"),e="draw"):(this.toast.showToast("You have lost","lose"),e="lose"),this.player.endGame(e),this.gameStartButton.interactable=!0},i.onGameRestart=function(){this.dealer.reset(),this.player.reset(),this.gameStart()},i.loadHand=function(e,a){var t=this,r=[];return e.forEach((function(e){var n=e.value,i=e.suit;if(!e.cardNode){var o=i+"_"+n;r.push(new Promise((function(r,n){h.load("cards/"+i+"/"+o+"/spriteFrame",d,(function(i,o){if(i)return n(p(i.message));var s=f(t.cardPrefab);s.getComponent(w).spriteFrame=o,s.getComponent(g).setContentSize(t.cardSize),e.cardNode=s,e.cardNode.setParent(a),r(e)}))})))}})),Promise.all(r).then((function(){return e}))},a}(m)).instance=void 0,N=a((G=L).prototype,"cardTable",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=a(G.prototype,"cardPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=a(G.prototype,"gameStartButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=a(G.prototype,"dealer",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=a(G.prototype,"player",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=a(G.prototype,"toast",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=G))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/BlackJackPlayerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BlackJackGameManager.ts","./utils.ts","./ToastManager.ts","./BetManager.ts","./WalletManager.ts"],(function(t){var a,e,n,l,i,r,o,s,u,h,c,d,p,y,b,B,f;return{setters:[function(t){a=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,o=t.Node,s=t.Button,u=t.Label,h=t.Component},function(t){c=t.BlackJackGameManager},function(t){d=t.getTotalHandValue,p=t.checkBlackJack,y=t.calculateWinnings},function(t){b=t.ToastManager},function(t){B=t.BetManager},function(t){f=t.WalletManager}],execute:function(){var g,k,w,H,m,D,M,T,J,v,O,W,z,P,S,A,C,I,V,L,E;i._RF.push({},"8888astadlBg6heRjsrSVg2","BlackJackPlayerManager",void 0);var G=r.ccclass,_=r.property;t("BlackJackPlayerManager",(g=G("BlackJackPlayerManager"),k=_(o),w=_(s),H=_(s),m=_(s),D=_(u),M=_(u),T=_(b),J=_(B),v=_(f),g((z=a((W=function(t){function a(){for(var a,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return a=t.call.apply(t,[this].concat(i))||this,n(a,"playerTable",z,l(a)),n(a,"hitButton",P,l(a)),n(a,"endButton",S,l(a)),n(a,"doubleDownButton",A,l(a)),n(a,"handInfo",C,l(a)),n(a,"handShoutOut",I,l(a)),n(a,"toast",V,l(a)),n(a,"playerBet",L,l(a)),n(a,"playerWallet",E,l(a)),a.hasBlackJack=void 0,a.playerHand=[],a.playerHandValue=0,a.isDoubleDown=void 0,a}e(a,t);var i=a.prototype;return i.start=function(){this.disableButtons()},i.onGameStart=function(){this.updateWalletOnStart()},i.startTurn=function(){this.hasBlackJack?this.onEndTurn():this.playerHand.length<=1?(this.dealOneCardPlayer(),this.disableButtons()):this.enableButtons(),console.log(this.playerHand)},i.dealOneCardPlayer=function(){var t=this;this.playerHand.push(c.instance.dealOneCard()),c.instance.loadHand(this.playerHand,this.playerTable).then((function(){t.updateHand(t.playerHand),c.instance.endPlayerTurn()}))},i.disableButtons=function(){this.hitButton.interactable=!1,this.endButton.interactable=!1,this.doubleDownButton.interactable=!1},i.enableButtons=function(){this.hitButton.interactable=!0,this.endButton.interactable=!0,this.doubleDownButton.interactable=!0},i.updateHand=function(t){this.playerHandValue=d(t),this.handInfo.string="Total value: "+this.playerHandValue,this.hasBlackJack=p(t),this.hasBlackJack?(this.disableButtons(),this.handInfo.string+="\nWow! Black Jack !!!",this.handShoutOut.string="BLACK JACK !!!",this.toast.showToast("You have hit a black jack !!!","blackJack")):this.playerHandValue>21&&(this.handInfo.string+="\nYou are busted !",this.onEndTurn())},i.onHit=function(){var t=this;this.playerHand.push(c.instance.dealOneCard()),this.playerHand.length>2&&(this.doubleDownButton.interactable=!1),c.instance.loadHand(this.playerHand,this.playerTable).then((function(){t.updateHand(t.playerHand)}))},i.onEndTurn=function(){this.disableButtons(),c.instance.endPlayerTurn()},i.onDoubleDown=function(){this.isDoubleDown=!0,this.handShoutOut.string="DOUBLE DOWN !!!",this.playerWallet.subMoney(this.playerBet.playerBetAmount),this.playerBet.onDoubleDown(),this.dealOneCardPlayer()},i.endGame=function(t){switch(this.disableButtons(),t){case"win":var a=this.playerBet.playerBetAmount+y(this.playerBet.playerBetAmount,this.hasBlackJack);this.playerWallet.addMoney(a);break;case"draw":this.playerWallet.addMoney(this.playerBet.playerBetAmount)}},i.updateWalletOnStart=function(){this.playerBet.resetBet(),this.playerWallet.subMoney(this.playerBet.playerBetAmount)},i.reset=function(){this.playerTable.removeAllChildren(),this.hasBlackJack=!1,this.isDoubleDown=!1,this.playerHand=[],this.handShoutOut.string="",this.enableButtons()},a}(h)).prototype,"playerTable",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=a(W.prototype,"hitButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=a(W.prototype,"endButton",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=a(W.prototype,"doubleDownButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=a(W.prototype,"handInfo",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=a(W.prototype,"handShoutOut",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=a(W.prototype,"toast",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=a(W.prototype,"playerBet",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=a(W.prototype,"playerWallet",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=W))||O));i._RF.pop()}}}));

System.register("chunks:///_virtual/CardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var a,e,t,n,i,c,o,s;return{setters:[function(r){a=r.applyDecoratedDescriptor,e=r.inheritsLoose,t=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){i=r.cclegacy,c=r._decorator,o=r.Node,s=r.Component}],execute:function(){var u,l,d,p,C;i._RF.push({},"726e9+L1QNFH60FbTwCUmDA","CardManager",void 0);var h=c.ccclass,f=c.property;r("CardManager",(u=h("CardManager"),l=f(o),u((C=a((p=function(r){function a(){for(var a,e=arguments.length,i=new Array(e),c=0;c<e;c++)i[c]=arguments[c];return a=r.call.apply(r,[this].concat(i))||this,t(a,"backCard",C,n(a)),a}e(a,r);var i=a.prototype;return i.showBackCard=function(){this.backCard.active=!0},i.isShowingBackCard=function(){return!!this.backCard.active},i.showFaceCard=function(){this.backCard.active=!1},a}(s)).prototype,"backCard",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=p))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/CardMauBinh.ts",["./rollupPluginModLoBabelHelpers.js","cc","./utils.ts"],(function(t){var n,o,i,e,r,a,s,h,c,g,d;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,e=t.Color,r=t.Sprite,a=t.Node,s=t.tween,h=t.UITransform,c=t.Intersection2D,g=t.Component},function(t){d=t.changeParent}],execute:function(){var l;o._RF.push({},"f73d5K2NZ9F+aE64ruIcN6a","CardMauBinh",void 0);var u=i.ccclass,p=(i.property,new e(200,200,200)),_=e.WHITE,f=new e(100,100,100);t("CardMauBinh",u("CardMauBinh")(l=function(t){function o(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this)._playerManager=void 0,n.originalParent=void 0,n.originalPos=void 0,n._canDrag=!0,n._spriteComp=void 0,n.isIntersected=void 0,n}n(o,t);var i=o.prototype;return i.onLoad=function(){this._spriteComp=this.node.getComponent(r)},i.start=function(){this.node.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(a.EventType.TOUCH_MOVE,this.onTouchMove,this)},i.init=function(t){this._playerManager=t},i.setProps=function(){this.originalPos=this.node.getPosition(),this.originalParent=this.node.getParent()},i.onTouchStart=function(t){this._canDrag&&(this._canDrag=!1,this._spriteComp.color=_,d(this.node,this._playerManager.dragHolder),this._playerManager.setDragTarget(this.node))},i.onTouchMove=function(t){var n=t.getUIDelta(),o=this.node.getPosition().x+n.x,i=this.node.getPosition().y+n.y;this.node.setPosition(o,i)},i.onTouchEnd=function(t){this._playerManager.setDragTarget(null)},i.switchChi=function(t){var n=this,i=t.getComponent(o),e=i.originalParent,r=i.originalPos.clone();return d(this.node,e),this._canDrag=!1,new Promise((function(t){s(n.node).to(.3,{position:r}).call((function(){n._canDrag=!0,n.originalPos=r,n.originalParent=e,t()})).start()}))},i.returnToOriginal=function(){var t=this,n=this.originalParent,o=this.originalPos.clone();return d(this.node,n),this._canDrag=!1,new Promise((function(i){s(t.node).to(.3,{position:o}).call((function(){t._canDrag=!0,t.originalPos=o,t.originalParent=n,i()})).start()}))},i.update=function(t){this._playerManager.dragTarget&&this._playerManager.dragTarget!==this.node?(this.isIntersected=this.isIntersectWithTarget(this._playerManager.dragTarget),this.isIntersected?this._spriteComp.color=p:this._spriteComp.color=_):this.isIntersected&&(this.isIntersected=!1,this._spriteComp.color=_)},i.isIntersectWithTarget=function(t){var n=t.getComponent(h).getBoundingBoxToWorld(),o=this.node.getComponent(h).getBoundingBoxToWorld(),i=Math.abs(n.x-o.x)<=this.node.getComponent(h).width/2,e=Math.abs(n.y-o.y)<=this.node.getComponent(h).height/2;return i&&e&&c.rectRect(n,o)},i.showInCombination=function(){this._spriteComp.color=f},o}(g))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DragAndDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./utils.ts"],(function(t){var n,o,e,i,r,a,s,h,g,c,d;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Color,r=t.Node,a=t.tween,s=t.UIOpacity,h=t.UITransform,g=t.Intersection2D,c=t.Component},function(t){d=t.changeParent}],execute:function(){var p;o._RF.push({},"2b534Pn7fxNcImbb9LfLMaH","DragAndDrop",void 0);var l=e.ccclass;e.property,new i(100,100,100),i.WHITE,t("DragAndDrop",l("DragAndDrop")(p=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this)._playerManager=void 0,n._parent=void 0,n._originalPos=void 0,n._canDrag=!0,n}n(o,t);var e=o.prototype;return e.onLoad=function(){this._parent=this.node.parent},e.start=function(){this.node.on(r.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(r.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(r.EventType.TOUCH_MOVE,this.onTouchMove,this)},e.init=function(t){this._playerManager=t},e.onTouchStart=function(t){this._canDrag&&(this._canDrag=!1,d(this.node,this._playerManager.dragHolder),this._originalPos=this.node.getPosition(),this._playerManager.setDragTarget(this.node))},e.onTouchMove=function(t){var n=t.getUIDelta(),o=this.node.getPosition().x+n.x,e=this.node.getPosition().y+n.y;this.node.setPosition(o,e)},e.onTouchEnd=function(t){var n=this;this._playerManager.setDragTarget(null),this._originalPos&&a(this.node).to(.3,{position:this._originalPos.clone()}).call((function(){d(n.node,n._parent),n._canDrag=!0})).start(),this._originalPos=null},e.update=function(t){this._playerManager.dragTarget&&this._playerManager.dragTarget!==this.node&&this.isIntersectWithTarget(this._playerManager.dragTarget)?this.node.getComponent(s).opacity=100:this.node.getComponent(s).opacity=255},e.isIntersectWithTarget=function(t){var n=t.getComponent(h).getBoundingBoxToWorld(),o=this.node.getComponent(h).getBoundingBoxToWorld(),e=Math.abs(n.x-o.x)<=this.node.getComponent(h).width/2,i=Math.abs(n.y-o.y)<=this.node.getComponent(h).height/2;return g.rectRect(n,o)&&e&&i},o}(c))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameList.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,c,r;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,c=e.director,r=e.Component}],execute:function(){var s;o._RF.push({},"c2fb2NdJftCpr2cNq5dtg1A","GameList",void 0);var i=n.ccclass;n.property,e("GameList",i("GameList")(s=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.onClick=function(e,t){c.loadScene(t,(function(e){if(e)return console.error(e);console.log("=== Load scene successfully ===")}))},o}(r))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,a,r,o,i,c,l,d,s,u,h,f,p,b,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,c=e.Node,l=e.Prefab,d=e.Button,s=e.v3,u=e.resources,h=e.SpriteFrame,f=e.error,p=e.instantiate,b=e.Sprite,g=e.Component}],execute:function(){var m,v,y,H,P,N,D,B,M,k,S,T;o._RF.push({},"1c2fea9rnRGBpWL7tnZjo/V","GameManager",void 0);var w=i.ccclass,z=i.property,C=["spade","diamond","club","heart"],x=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];e("GameManager",(m=w("GameManager"),v=z(c),y=z(c),H=z(l),P=z(d),m(((T=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,a(t,"cardTable",B,r(t)),a(t,"playerDeck",M,r(t)),a(t,"cardPrefab",k,r(t)),a(t,"playHandButton",S,r(t)),t.playerHand=[],t.selectedHand=[],t.cardDeck=[],t}n(t,e);var o=t.prototype;return o.start=function(){t.instance=this,this.gameStart()},o.gameStart=function(){var e=this,t=function(){for(var e=[],t=0;t<C.length;t++)for(var n=0;n<x.length;n++){var a={value:x[n],suit:C[t],cardPower:n*C.length+t};e.push(a)}return e}();return function(e){for(var t=0;t<1e3;t++){var n=Math.floor(Math.random()*e.length),a=Math.floor(Math.random()*e.length),r=e[n];e[n]=e[a],e[a]=r}}(t),this.cardDeck=t,this.loadDeck(t).then((function(t){for(var n=[],a=0;a<52;a++){if(a%4==0)n.push(t.pop());else t.pop().cardNode.destroy()}e.findHandBestCombinations(n),n.forEach((function(t){t.cardNode.setParent(e.playerDeck),t.cardNode.emit("INIT");var n=t.cardNode.getPosition();t.cardNode.setPosition(s(n.x,0,n.z))})),e.playerHand=n}))},o.loadDeck=function(e){var t=this,n=[];return e.forEach((function(e){var a=e.value,r=e.suit,o=r+"_"+a;n.push(new Promise((function(n,a){u.load("cards/"+r+"/"+o+"/spriteFrame",h,(function(r,o){if(r)return a(f(r.message));var i=p(t.cardPrefab);i.getComponent(b).spriteFrame=o,e.cardNode=i,n(e)}))})))})),Promise.all(n).then((function(){return e}))},o.onSelectCard=function(e){var t=this.playerHand.find((function(t){return t.cardNode===e})),n=this.selectedHand.find((function(t){return t.cardNode===e}));t&&!n&&(this.selectedHand.push(t),console.log("Selected hand: ",this.selectedHand))},o.onUnselectCard=function(e){var t=this.selectedHand.findIndex((function(t){return t.cardNode===e}));-1!=t&&(this.selectedHand.splice(t,1),console.log("Selected hand: ",this.selectedHand))},o.onPlayHand=function(){var e=this;this.selectedHand.length?(this.selectedHand.forEach((function(t){t.cardNode.setParent(e.cardTable)})),this.selectedHand=[],this.playHandButton.interactable=!1,this.scheduleOnce(this.nextTurn,1)):console.log("No selected hand to play")},o.nextTurn=function(){this.playHandButton.interactable=!0,this.cardTable.removeAllChildren()},o.findHandBestCombinations=function(e){},t}(g)).instance=void 0,B=t((D=T).prototype,"cardTable",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(D.prototype,"playerDeck",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(D.prototype,"cardPrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(D.prototype,"playHandButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=D))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/MauBinhGameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MauBinhPlayerManager.ts","./MauBinhRoomInfo.ts"],(function(e){var o,t,n,i,a,r,s,l,c,u,h,m,f,d,p,_,b,y;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,l=e.Prefab,c=e.Label,u=e.Button,h=e.resources,m=e.SpriteFrame,f=e.error,d=e.instantiate,p=e.Sprite,_=e.Component},function(e){b=e.MauBinhPlayerManager},function(e){y=e.MauBinhRoomInfo}],execute:function(){var v,g,B,R,k,w,M,D,I,P,j,C,N,z,S,G,H;a._RF.push({},"9072cMJJMND1IVkPaSjx5ZQ","MauBinhGameManager",void 0);var T=r.ccclass,F=r.property,L="MauBinhForever";e("MauBinhGameManager",(v=T("MauBinhGameManager"),g=F(s),B=F(s),R=F(l),k=F(c),w=F(u),M=F(u),D=F(u),v((j=o((P=function(e){function o(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return o=e.call.apply(e,[this].concat(a))||this,n(o,"player",j,i(o)),n(o,"roomInfo",C,i(o)),n(o,"cardPrefab",N,i(o)),n(o,"countDownTimer",z,i(o)),n(o,"readyBtn",S,i(o)),n(o,"joinRoomBtn",G,i(o)),n(o,"leaveRoomBtn",H,i(o)),o._socket=void 0,o._playerName=void 0,o}t(o,e);var a=o.prototype;return a.onLoad=function(){var e,o;this.player=null==(e=this.player)?void 0:e.getComponent(b),this.roomInfo=null==(o=this.roomInfo)?void 0:o.getComponent(y),this._socket=window.io("http://localhost:3000");var t=["kakalak","hihi","haha","foo","bar"];this._playerName=t[Math.floor(Math.random()*t.length)]},a.start=function(){this.joinRoomBtn.interactable=!0,this.leaveRoomBtn.interactable=!1,this.readyBtn.interactable=!0,this.initSocket()},a.startCountDown=function(e){var o=this,t=e;this.countDownTimer.string="Time: "+t;var n=function(){t--,o.countDownTimer.string="Time: "+t};this.schedule((function(){t<=0?o.unschedule(n):n()}),1)},a.loadHand=function(e){var o=this,t=[];return e.forEach((function(e){var n=e.value,i=e.suit,a=i+"_"+n;t.push(new Promise((function(t,n){h.load("cards/"+i+"/"+a+"/spriteFrame",m,(function(i,r){if(i)return n(f(i.message));var s=d(o.cardPrefab);s.getComponent(p).spriteFrame=r,s.name=a,e.cardNode=s,t(e)}))})))})),Promise.all(t).then((function(e){return e}))},a.readyClick=function(){this._socket.emit("user_ready_game"),this.readyBtn.interactable=!1},a.joinRoomClick=function(){var e=this;this._socket.emit("join_room",L,(function(o){console.log(o),e.joinRoomBtn.interactable=!0,e.leaveRoomBtn.interactable=!1})),this.joinRoomBtn.interactable=!1},a.leaveRoomClick=function(){this._socket.emit("leave_room",L),this.leaveRoomBtn.interactable=!1},a.onUserJoinRoom=function(e){var o=e.roomInfo,t=e.player;t.name==this._playerName?(this.leaveRoomBtn.interactable=!0,this.joinRoomBtn.interactable=!1):console.log("=== Player "+t.name+" has entered the room ==="),this.roomInfo.updateRoomInfo(o)},a.onUserLeaveRoom=function(e){var o=e.roomInfo,t=e.roomMsg,n=e.player;n.name==this._playerName?(this.leaveRoomBtn.interactable=!1,this.joinRoomBtn.interactable=!0,this.roomInfo.resetRoomInfo()):(console.log("=== Player "+n.name+" has left the room ==="),this.roomInfo.updateRoomInfo(o)),console.log(t)},a.initSocket=function(){if(!this._socket)throw new Error("Socket was not inited");this._socket.on("on_user_join_room",this.onUserJoinRoom.bind(this)),this._socket.on("on_user_leave_room",this.onUserLeaveRoom.bind(this)),this._socket.on("on_user_deal_cards",this.onUserDealCards.bind(this)),this._socket.on("on_game_result",this.onGameResult.bind(this)),this._socket.on("on_notify_game_state",this.onNotifyGameState.bind(this)),this._socket.emit("new_user",this._playerName)},a.onNotifyGameState=function(e){console.log(e)},a.onDestroy=function(){this._socket&&this._socket.disconnect()},a.onUserDealCards=function(e){var o=this;this.loadHand(e).then((function(e){o.player.setPlayerHand(e);o.startCountDown(10),o.scheduleOnce((function(){o.sendPlayerHandData()}),10)}))},a.sendPlayerHandData=function(){var e=this.player.getHandData();this._socket.emit("user_send_hand",e)},a.onGameResult=function(e){console.log(e)},o}(_)).prototype,"player",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=o(P.prototype,"roomInfo",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=o(P.prototype,"cardPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=o(P.prototype,"countDownTimer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=o(P.prototype,"readyBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=o(P.prototype,"joinRoomBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=o(P.prototype,"leaveRoomBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=P))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/MauBinhPlayerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardMauBinh.ts","./utils.ts"],(function(e){var t,n,i,r,a,o,l,s,u,c,h,d,p,f,g,b,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,s=e.BlockInputEvents,u=e.Label,c=e.UITransform,h=e.Layout,d=e.Tween,p=e.tween,f=e.v3,g=e.Component},function(e){b=e.CardMauBinh},function(e){C=e.detectAllCombinations}],execute:function(){var m,y,v,H,P,w,B,T,I,L,M,N,z,V,k,x,E;a._RF.push({},"5dfa72LQ1NEe6Fizj3GQMk6","MauBinhPlayerManager",void 0);var _=o.ccclass,X=o.property;e("MauBinhPlayerManager",(m=_("MauBinhPlayerManager"),y=X(l),v=X(l),H=X(l),P=X(l),w=X(l),B=X(l),T=X(s),m((M=t((L=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"playerTable",M,r(t)),i(t,"firstChi",N,r(t)),i(t,"secondChi",z,r(t)),i(t,"thirdChi",V,r(t)),i(t,"dragHolder",k,r(t)),i(t,"combinationsLabels",x,r(t)),i(t,"blockInput",E,r(t)),t.playerHand=[],t.selectedHand=[],t.dragTarget=void 0,t.result=void 0,t.isXepBai=!0,t}n(t,e);var a=t.prototype;return a.onLoad=function(){var e;this.combinationsLabels=null==(e=this.combinationsLabels)?void 0:e.getComponentsInChildren(u)},a.setDragTarget=function(e){var t=this;if(e)this.dragTarget=e;else{var n=this.getComponentsInChildren(b).find((function(e){return e.isIntersected})),i=this.dragTarget.getComponent(b),r=[];n?(r.push(i.switchChi(n.node)),r.push(n.switchChi(this.dragTarget))):r.push(i.returnToOriginal()),r.length>0&&Promise.all(r).then((function(){t.dragTarget=null,t.firstChi.children.sort((function(e,t){return e.getPosition().x-t.getPosition().x})),t.secondChi.children.sort((function(e,t){return e.getPosition().x-t.getPosition().x})),t.thirdChi.children.sort((function(e,t){return e.getPosition().x-t.getPosition().x})),t.playerHand.forEach((function(e){e.cardNode.getComponent(b).setProps()})),t._calculateHand()}))}},a.setPlayerHand=function(e){var t=this;this.playerHand=e,this.playerHand.sort((function(e,t){return e.numberValue-t.numberValue})),this.playerHand.forEach((function(e){var n=e.cardNode;t.firstChi.children.length<5?n.setParent(t.firstChi):t.secondChi.children.length<5?n.setParent(t.secondChi):n.setParent(t.thirdChi),n.getComponent(b).init(t),n.active=!0})),this.scheduleOnce((function(){var e=t.firstChi.getComponent(c).width,n=t.thirdChi.getComponent(c).width;t.firstChi.getComponent(c).width=e,t.secondChi.getComponent(c).width=e,t.thirdChi.getComponent(c).width=n,t.firstChi.getComponent(h).enabled=!1,t.secondChi.getComponent(h).enabled=!1,t.thirdChi.getComponent(h).enabled=!1,t.playerHand.forEach((function(e){e.cardNode.getComponent(b).setProps()}))})),this._calculateHand()},a._calculateHand=function(){var e=this;this.result={};var t=this.playerHand.filter((function(e){return"Chi1"==e.cardNode.parent.name})).sort((function(e,t){return e.numberValue-t.numberValue})),n=this.playerHand.filter((function(e){return"Chi2"==e.cardNode.parent.name})).sort((function(e,t){return e.numberValue-t.numberValue})),i=this.playerHand.filter((function(e){return"Chi3"==e.cardNode.parent.name})).sort((function(e,t){return e.numberValue-t.numberValue}));console.log(t,n),[t,n,i].forEach((function(t,n){var i=C(t);e.combinationsLabels[n].string="Chi "+(n+1)+" : "+i.title,i.cardList.forEach((function(e){e.cardNode.getComponent(b).showInCombination()})),e.result["chi"+(n+1)]=i})),console.log(this.result)},a.getHandData=function(){for(var e=[],t=[this.playerHand.filter((function(e){return"Chi1"==e.cardNode.parent.name})),this.playerHand.filter((function(e){return"Chi2"==e.cardNode.parent.name})),this.playerHand.filter((function(e){return"Chi3"==e.cardNode.parent.name}))],n=0;n<t.length;n++)e.push(t[n].map((function(e){var t=e.suit,n=e.value,i=e.numberValue;return Object.assign({},{suit:t,value:n,numberValue:i})})));return e},a.clickXepBai=function(){d.stopAllByTarget(this.node),this.isXepBai?p(this.node).to(.3,{scale:f(.5,.5,1)},{easing:"backInOut"}).start():p(this.node).to(.3,{scale:f(1,1,1)},{easing:"backInOut"}).start(),this.isXepBai=!this.isXepBai,this.blockInput.enabled=!this.isXepBai},t}(g)).prototype,"playerTable",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(L.prototype,"firstChi",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(L.prototype,"secondChi",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(L.prototype,"thirdChi",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(L.prototype,"dragHolder",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(L.prototype,"combinationsLabels",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(L.prototype,"blockInput",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=L))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/MauBinhResultPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var u,n,o,e;return{setters:[function(t){u=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,e=t.Component}],execute:function(){var r;n._RF.push({},"d4b99oNdO9N2KFvNWuPJlTP","MauBinhResultPopup",void 0);var p=o.ccclass;o.property,t("MauBinhResultPopup",p("MauBinhResultPopup")(r=function(t){function n(){return t.apply(this,arguments)||this}u(n,t);var o=n.prototype;return o.start=function(){},o.update=function(t){},n}(e))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/MauBinhRoomInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var r,e,n,t,i,a,s,l;return{setters:[function(o){r=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,t=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator,s=o.Label,l=o.Component}],execute:function(){var u,c,m,f,p,h,y;i._RF.push({},"3fa8fKgP0VCeqVg9StXvZZS","MauBinhRoomInfo",void 0);var g=a.ccclass,v=a.property;o("MauBinhRoomInfo",(u=g("MauBinhRoomInfo"),c=v(s),m=v(s),u((h=r((p=function(o){function r(){for(var r,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return r=o.call.apply(o,[this].concat(i))||this,n(r,"roomName",h,t(r)),n(r,"roomPlayers",y,t(r)),r}e(r,o);var i=r.prototype;return i.updateRoomInfo=function(o){var r=this,e=o.roomName,n=o.players;this.roomName.string=e,this.roomPlayers.string="",n.forEach((function(o){r.roomPlayers.string+=o+"\n"}))},i.resetRoomInfo=function(){this.roomName.string="",this.roomPlayers.string=""},r}(l)).prototype,"roomName",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=r(p.prototype,"roomPlayers",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=p))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/MauBinhServer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Component}],execute:function(){var i;n._RF.push({},"bb829svjIhCsplr6oq7Pfv5","MauBinhServer",void 0);var s=o.ccclass;o.property,e("MauBinhServer",s("MauBinhServer")(i=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._socket=void 0,t}t(n,e);var o=n.prototype;return o.onLoad=function(){this._socket=window.io("http://localhost:3000")},o.start=function(){if(!this._socket)throw new Error("Socket was not inited");this._socket.on("connect",this.onConnect.bind(this)),this._socket.on("server_event",this.onServerEvent.bind(this))},o.onConnect=function(){console.log("Connected to server!"),this._socket.emit("client_event",{someData:"value",user:"kakalak"})},o.onServerEvent=function(e){console.log("Received data from server:",e)},n}(r))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/OutlineNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,n,i,r,s,c;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator,i=o.Graphics,r=o.UITransform,s=o.Color,c=o.Component}],execute:function(){var l;t._RF.push({},"c9b7f+jvb5ErpJKKWfVYCMS","OutlineNode",void 0);var u=n.ccclass;n.property,o("OutlineNode",u("OutlineNode")(l=function(o){function t(){return o.apply(this,arguments)||this}return e(t,o),t.prototype.start=function(){var o=this.getComponent(i)||this.addComponent(i),e=this.node.getComponent(r).width,t=this.node.getComponent(r).height;o.lineWidth=4,o.strokeColor=s.BLACK,o.moveTo(0,0),o.lineTo(e,0),o.lineTo(e,t),o.lineTo(0,t),o.lineTo(0,0),o.stroke()},t}(c))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/SolitaireCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./utils.ts"],(function(t){var n,e,o,i,a,s,r,c,l,h,d,u,v,p,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Node,c=t.Sprite,l=t.v3,h=t.tween,d=t.Event,u=t.UITransform,v=t.Component},function(t){p=t.ROYAL_VALUES,f=t.changeParent}],execute:function(){var g,_,E,T,D;a._RF.push({},"87db6c/XExITYwsYCfOpjf7","SolitaireCard",void 0);var m=s.ccclass,b=s.property;t("SolitaireCard",(g=m("SolitaireCard"),_=b(r),g((D=n((T=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,o(n,"faceDown",D,i(n)),n._cardSprite=void 0,n._canDrag=void 0,n._originalPos=void 0,n._originalWorldPos=void 0,n._parent=void 0,n.value=void 0,n.suit=void 0,n.valueName=void 0,n}e(n,t);var a=n.prototype;return a.onLoad=function(){this._cardSprite=this.node.getComponent(c)},a.initCard=function(t,n,e){var o=this;this._cardSprite.spriteFrame=t,this.valueName=n,this.value="A"==n?1:p[n]||Number(n),this.suit=e,this._canDrag=!0,this._originalPos=l(0,0,0),this.initEvent(),this.node.once(r.EventType.PARENT_CHANGED,(function(){return o._parent=o.node.parent}),this)},a.isCardFromWaste=function(){return this._parent.name.startsWith("WasteCards")},a.getParent=function(){return this._parent},a.showFaceDown=function(){this.faceDown.active=!0,this.disableEvent()},a.showFaceUp=function(){this.faceDown.active=!1,this.enableEvent()},a.showFaceUpAnim=function(t){var n=this;return void 0===t&&(t=.5),this.disableEvent(),h(this.node).to(t/2,{scale:l(0,1,1)}).call((function(){return n.showFaceUp()})).to(t/2,{scale:l(1,1,1)}).call((function(){n.enableEvent()}))},a.showFaceDownAnim=function(t){var n=this;return void 0===t&&(t=.5),this.disableEvent(),h(this.node).to(t/2,{scale:l(0,1,1)}).call((function(){return n.showFaceDown()})).to(t/2,{scale:l(1,1,1)}).call((function(){n.enableEvent()}))},a.slideFaceUpTo=function(t,n,e){var o=this;return this.disableEvent(),f(this.node,e),new Promise((function(e){h(o.node).parallel(h().by(n,{position:t}),o.showFaceUpAnim(n).call((function(){o.enableEvent(),o.setOriginalPos(!0),o._canDrag=!0,e()}))).start()}))},a.slideFaceDownTo=function(t,n,e){var o=this;return this.disableEvent(),f(this.node,e),new Promise((function(e){h(o.node).parallel(h().by(n,{position:t}),o.showFaceDownAnim(n).call((function(){o.disableEvent(),o.setOriginalPos(!0),o._canDrag=!1,e()}))).start()}))},a._dragStart=function(){this._canDrag=!1,this._parent=this.node.parent;var t=new d("ON_DRAG_CARD_BEGIN",!0);this.node.dispatchEvent(t),console.log("Drag")},a.onTouchStart=function(t){this._canDrag&&this.scheduleOnce(this._dragStart,.05)},a.onTouchMove=function(t){if(!this._canDrag){this.follow(t);var n=new d("ON_DRAG_CARD_MOVE",!0);n.moveEvent=t,this.node.dispatchEvent(n)}},a.onTouchEnd=function(t){if(this._canDrag){this.unschedule(this._dragStart);var n=new d("ON_TAP_CARD",!0);return this.node.dispatchEvent(n),void console.log("Tap")}this._canDrag=!0;var e=new d("ON_DRAG_CARD_END",!0);this.node.dispatchEvent(e)},a.follow=function(t){var n=t.getUIDelta(),e=this.node.getPosition().x+n.x,o=this.node.getPosition().y+n.y;this.node.setPosition(e,o)},a.returnCard=function(){var t=this,n=this.node.getComponent(u).convertToWorldSpaceAR(l(0,0,0)),e=this._originalWorldPos.clone().subtract(n);return this.disableEvent(),new Promise((function(n){h(t.node).by(.2,{position:e}).call((function(){f(t.node,t._parent),t.enableEvent(),n()})).start()}))},a.transferToPile=function(t,n){var e=this;void 0===n&&(n=[]);var o,i=[].concat(n).shift();n.push(this.node),o=i?i.getComponent(u).convertToWorldSpaceAR(l(0,0,0)):t.getComponent(u).convertToWorldSpaceAR(l(0,0,0));var a=this.node.getComponent(u).convertToWorldSpaceAR(l(0,0,0));n.length>1?o.y-=44*(n.length-1):o.y-=this.node.getComponent(u).height/2;var s=o.subtract(a);return this._parent=t,this.disableEvent(),new Promise((function(n){h(e.node).by(.2,{position:s}).call((function(){f(e.node,t),e.setOriginalPos(),e.enableEvent(),n()})).start()}))},a.transferToFoundation=function(t,n){var e=this;void 0===n&&(n=[]);var o=t.getComponent(u).convertToWorldSpaceAR(l(0,0,0)),i=this.node.getComponent(u).convertToWorldSpaceAR(l(0,0,0));o.y+=2*n.length;var a=o.subtract(i);return this._parent=t,this.disableEvent(),new Promise((function(n){h(e.node).by(.2,{position:a}).call((function(){f(e.node,t),e.setOriginalPos(),e.enableEvent(),n()})).start()}))},a.setOriginalPos=function(t){var n=this;void 0===t&&(t=!1),t?(this._originalPos=this.node.getPosition(),this._originalWorldPos=this.node.getComponent(u).convertToWorldSpaceAR(l(0,0,0))):this.node.once(r.EventType.TRANSFORM_CHANGED,(function(){n._originalPos=n.node.getPosition(),n._originalWorldPos=n.node.getComponent(u).convertToWorldSpaceAR(l(0,0,0))}))},a.initEvent=function(){this.node.on(r.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(r.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(r.EventType.TOUCH_MOVE,this.onTouchMove,this)},a.enableEvent=function(){this.node.resumeSystemEvents(!1)},a.disableEvent=function(){this.node.pauseSystemEvents(!1)},n}(v)).prototype,"faceDown",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=T))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/SolitaireManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SolitaireCard.ts","./utils.ts"],(function(e){var t,a,n,r,u,i,o,s,l,d,c,h,m,p,f,b,v,g,C,V,w,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){u=e.cclegacy,i=e._decorator,o=e.Prefab,s=e.Node,l=e.Label,d=e.Button,c=e.resources,h=e.SpriteFrame,m=e.error,p=e.instantiate,f=e.UITransform,b=e.Intersection2D,v=e.Component},function(e){g=e.SolitaireCard},function(e){C=e.getDeck,V=e.changeParent,w=e.RED_SUITS,N=e.BLACK_SUITS}],execute:function(){var k,D,_,y,P,S,I,A,E,F,T,B,M,W,R,z,O,x,K;u._RF.push({},"bdd65tExAZP6J/+vhaesCvY","SolitaireManager",void 0);var H=i.ccclass,J=i.property;e("SolitaireManager",(k=H("SolitaireManager"),D=J(o),_=J(s),y=J(l),P=J(d),S=J(s),I=J(s),A=J(s),E=J(s),k((B=t((T=function(e){function t(){for(var t,a=arguments.length,u=new Array(a),i=0;i<a;i++)u[i]=arguments[i];return t=e.call.apply(e,[this].concat(u))||this,n(t,"cardPrefab",B,r(t)),n(t,"stockCardsNode",M,r(t)),n(t,"stockInfo",W,r(t)),n(t,"getStockButton",R,r(t)),n(t,"wasteCardsNode",z,r(t)),n(t,"tableau",O,r(t)),n(t,"foundations",x,r(t)),n(t,"dragHolder",K,r(t)),t.cards=[],t.stockCards=[],t.wasteCards=[],t._followCards=[],t}a(t,e);var u=t.prototype;return u.onLoad=function(){this.node.on("ON_DRAG_CARD_END",this.onDragCardEnd,this),this.node.on("ON_DRAG_CARD_BEGIN",this.onDragCardBegin,this),this.node.on("ON_DRAG_CARD_MOVE",this.onDragCardMove,this),this.node.on("ON_TAP_CARD",this.onTapCard,this)},u.start=function(){var e=this,t=C();t=JSON.parse('[{"value":"9","suit":"heart","numberValue":9},{"value":"7","suit":"heart","numberValue":7},{"value":"2","suit":"spade","numberValue":2},{"value":"K","suit":"club","numberValue":10},{"value":"5","suit":"diamond","numberValue":5},{"value":"10","suit":"club","numberValue":10},{"value":"Q","suit":"heart","numberValue":10},{"value":"8","suit":"club","numberValue":8},{"value":"6","suit":"spade","numberValue":6},{"value":"2","suit":"diamond","numberValue":2},{"value":"10","suit":"diamond","numberValue":10},{"value":"J","suit":"spade","numberValue":10},{"value":"A","suit":"diamond","numberValue":10},{"value":"7","suit":"diamond","numberValue":7},{"value":"Q","suit":"diamond","numberValue":10},{"value":"K","suit":"diamond","numberValue":10},{"value":"A","suit":"heart","numberValue":10},{"value":"10","suit":"heart","numberValue":10},{"value":"5","suit":"club","numberValue":5},{"value":"4","suit":"spade","numberValue":4},{"value":"A","suit":"club","numberValue":10},{"value":"3","suit":"diamond","numberValue":3},{"value":"10","suit":"spade","numberValue":10},{"value":"5","suit":"spade","numberValue":5},{"value":"8","suit":"heart","numberValue":8},{"value":"K","suit":"heart","numberValue":10},{"value":"8","suit":"spade","numberValue":8},{"value":"7","suit":"spade","numberValue":7},{"value":"9","suit":"diamond","numberValue":9},{"value":"J","suit":"club","numberValue":10},{"value":"6","suit":"heart","numberValue":6},{"value":"2","suit":"club","numberValue":2},{"value":"2","suit":"heart","numberValue":2},{"value":"4","suit":"club","numberValue":4},{"value":"J","suit":"heart","numberValue":10},{"value":"6","suit":"club","numberValue":6},{"value":"4","suit":"heart","numberValue":4},{"value":"3","suit":"heart","numberValue":3},{"value":"5","suit":"heart","numberValue":5},{"value":"Q","suit":"club","numberValue":10},{"value":"3","suit":"spade","numberValue":3},{"value":"3","suit":"club","numberValue":3},{"value":"9","suit":"club","numberValue":9},{"value":"7","suit":"club","numberValue":7},{"value":"4","suit":"diamond","numberValue":4},{"value":"6","suit":"diamond","numberValue":6},{"value":"Q","suit":"spade","numberValue":10},{"value":"9","suit":"spade","numberValue":9},{"value":"J","suit":"diamond","numberValue":10},{"value":"K","suit":"spade","numberValue":10},{"value":"8","suit":"diamond","numberValue":8},{"value":"A","suit":"spade","numberValue":10}]'),this.loadCards(t).then((function(t){e.cards=t,e.gameStart()}))},u.loadCards=function(e){var t=this,a=[];return e.forEach((function(e){var n=e.value,r=e.suit,u=n+"_"+r;a.push(new Promise((function(e,a){c.load("solitaire/"+r+"/"+u+"/spriteFrame",h,(function(i,o){if(i)return a(m(i.message));var s=p(t.cardPrefab);s.name=u,e({cardNode:s,asset:o,value:n,suit:r})}))})))})),Promise.all(a).then((function(e){return e=e.map((function(e){var a=e.cardNode,n=e.asset,r=e.value,u=e.suit;a.setParent(t.stockCardsNode);var i=a.getComponent(g);return i.initCard(n,r,u),i.showFaceDown(),i}))}))},u.gameStart=function(){for(var e,t=this.cards.slice(),a=this.tableau.children.slice(),n=0;n<a.length;n++){(e=t.pop()).node.setParent(a[n]),e.showFaceUp(),e.setOriginalPos();for(var r=n+1;r<a.length;r++)(e=t.pop()).node.setParent(a[r]),e.showFaceDown(),e.setOriginalPos()}this.stockCards=this.stockCardsNode.children.map((function(e){return e.getComponent(g)})),this.stockInfo.string="Number of Cards: "+this.stockCards.length},u.getStock=function(){var e=this;if(0==this.stockCards.length){var t=this.stockCardsNode.getPosition().subtract(this.wasteCardsNode.getPosition());this.stockCards=this.wasteCards,this.wasteCards=[],this.stockCards.forEach((function(a){a.slideFaceDownTo(t,.3,e.stockCardsNode)}))}else{var a=this.stockCards.pop(),n=this.wasteCardsNode.getPosition().subtract(this.stockCardsNode.getPosition());this.wasteCards.unshift(a),a.slideFaceUpTo(n,.3,this.wasteCardsNode)}this.scheduleOnce((function(){e.getStockButton.interactable=!0}),.3),this.getStockButton.interactable=!1,this.stockInfo.string="Number of Cards: "+this.stockCards.length},u.onDragCardEnd=function(e,t,a){var n,r=this,u=e.target.getComponent(g),i=t||this.checkCardIntersection(e.target),o=a||this._followCards,s=[u].concat(o),l=u.isCardFromWaste(),d=[];function c(){return s.map((function(e){return e.returnCard()}))}if(i){var h=function(){return s.map((function(e){return e.transferToFoundation(i,b)}))},m=function(){return s.map((function(e){return e.transferToPile(i,b)}))},p=i.name.startsWith("Foundation"),f=i.getComponentsInChildren(g).pop(),b=[].concat(i.children);if(V(u.node,this.dragHolder),f)this.isValidMove(u,f)?(n=!0,p?d.push.apply(d,h()):d.push.apply(d,m())):d.push.apply(d,c());else{var v=i.name.endsWith("_"+u.suit);p?v&&"A"==u.valueName&&1==s.length?(n=!0,d.push.apply(d,h())):d.push.apply(d,c()):"K"==u.valueName?(n=!0,d.push.apply(d,m())):d.push.apply(d,c())}}else d.push.apply(d,c());Promise.all(d).then((function(){r._followCards=[],n&&(r.checkPiles(),l&&r.wasteCards.shift()),r.foundations.children.every((function(e){return 13==e.children.length}))}))},u.onDragCardBegin=function(e){var t,a=this,n=(null==(t=e.target.parent)?void 0:t.name.startsWith("Pile_"))&&e.target.parent;n&&(this._followCards=n.children.slice(e.target.getSiblingIndex()+1).map((function(e){return e.getComponent(g)})),V(e.target,this.dragHolder),this._followCards.forEach((function(e){return V(e.node,a.dragHolder)})))},u.onDragCardMove=function(e){e.moveEvent&&this._followCards.length>0&&this._followCards.forEach((function(t){return t.follow(e.moveEvent)}))},u.onTapCard=function(e){var t=this,a=e.target.getComponent(g),n=a.getParent().name.startsWith("Foundation"),r=a.getParent().name.startsWith("Pile")&&e.target.parent.children.slice(e.target.getSiblingIndex()+1).map((function(e){return e.getComponent(g)})),u=[].concat(this.foundations.children,this.tableau.children).map((function(e){var t;return null==(t=e.children.slice().pop())?void 0:t.getComponent(g)})).filter((function(e){return e})).find((function(e){return t.isValidMove(a,e)})),i=[].concat(this.foundations.children).find((function(e){return e.name.endsWith("_"+a.suit)}));if("A"!=a.valueName||n)if("K"==a.valueName){var o=[].concat(this.tableau.children).find((function(e){return 0==e.children.length}));12==i.children.length?this.onDragCardEnd(e,i):o&&this.onDragCardEnd(e,o,r)}else u&&this.onDragCardEnd(e,u.node.parent,r);else{var s=[].concat(this.foundations.children).find((function(e){return e.name.endsWith("_"+a.suit)}));this.onDragCardEnd(e,s)}},u.checkCardIntersection=function(e){var t=this;return[].concat(this.tableau.children,this.foundations.children).find((function(a){return t.isNodeIntersectWithTarget(a,e)}))},u.isNodeIntersectWithTarget=function(e,t){var a=t.getComponent(f).getBoundingBoxToWorld(),n=e.getComponent(f),r=n.getBoundingBoxToWorld();Math.abs(a.x-r.x),n.width,Math.abs(a.y-r.y),n.height;return b.rectRect(a,r)},u.displayChildrenName=function(e){console.log(e.getComponentsInChildren(g).map((function(e){return e.faceDown.active?null:e.name})).filter((function(e){return e})))},u.checkPiles=function(){this.tableau.children.forEach((function(e){var t=e.getComponentsInChildren(g).pop();null!=t&&t.faceDown.active&&t.showFaceUpAnim().start()}))},u.isValidMove=function(e,t){var a,n;return t.node.parent.name.startsWith("Foundation")?(a=e.value-t.value==1,n=t.suit==e.suit):(n=w.includes(t.suit)&&N.includes(e.suit)||N.includes(t.suit)&&w.includes(e.suit),a=t.value-e.value==1),n&&a},t}(v)).prototype,"cardPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(T.prototype,"stockCardsNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(T.prototype,"stockInfo",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(T.prototype,"getStockButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(T.prototype,"wasteCardsNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(T.prototype,"tableau",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(T.prototype,"foundations",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(T.prototype,"dragHolder",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=T))||F));u._RF.pop()}}}));

System.register("chunks:///_virtual/SolitaireShuffleData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,o,a;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator,a=t.Component}],execute:function(){var i;r._RF.push({},"a1c80OgE0ZJZry0/ouATHLt","SolitaireShuffleData",void 0);var n=o.ccclass;o.property,t("SolitaireShuffleData",n("SolitaireShuffleData")(i=function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var o=r.prototype;return o.start=function(){},o.update=function(t){},r}(a))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/start-scene",["./debug-view-runtime-control.ts","./SolitaireCard.ts","./SolitaireManager.ts","./SolitaireShuffleData.ts","./BetManager.ts","./BlackJackDealerManager.ts","./BlackJackGameManager.ts","./BlackJackPlayerManager.ts","./CardManager.ts","./DragAndDrop.ts","./OutlineNode.ts","./GameList.ts","./GameManager.ts","./CardMauBinh.ts","./MauBinhGameManager.ts","./MauBinhPlayerManager.ts","./MauBinhResultPopup.ts","./MauBinhRoomInfo.ts","./MauBinhServer.ts","./TimerManager.ts","./ToastManager.ts","./WalletManager.ts","./utils.ts","./testDropScript.ts","./testManager.ts","./testScript.ts","./testServer.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/testDropScript.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,r,i,c,s;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,r=t.Node,i=t.Intersection2D,c=t.UITransform,s=t.Component}],execute:function(){var a;o._RF.push({},"363d2VDIgRBz5mVLpakKW2Q","testDropScript",void 0);var u=n.ccclass;n.property,t("testDropScript",u("testDropScript")(a=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this)._dragTarget=void 0,e}e(o,t);var n=o.prototype;return n.onLoad=function(){this.node.on(r.EventType.TOUCH_END,this.onTouchEnd,this)},n.onTouchEnd=function(t){console.log(t)},n.setDragTarget=function(t){this._dragTarget=t},n.update=function(t){this._dragTarget&&this.isIntersectWithTarget(this._dragTarget)&&console.log("is intersected",this.node.name)},n.isIntersectWithTarget=function(t){return i.rectRect(t.getComponent(c).getBoundingBoxToWorld(),this.node.getComponent(c).getBoundingBoxToWorld())},o}(s))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/testManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./testDropScript.ts"],(function(t){var n,e,r,o,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,o=t.Component},function(t){s=t.testDropScript}],execute:function(){var i;e._RF.push({},"3b2cfHjxWdPl4bZ7LOuwtYf","testManager",void 0);var a=r.ccclass;r.property,t("testManager",a("testManager")(i=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var r=e.prototype;return r.onLoad=function(){this.node.on("ON_DRAG_BEGIN",this.onDragBegin,this)},r.onDragBegin=function(t){this.node.getComponentsInChildren(s).forEach((function(n){n.setDragTarget(t.target)}))},e}(o))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/testScript.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,c,n;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,c=t._decorator,n=t.Component}],execute:function(){var o;r._RF.push({},"fcb43l22YxFL7/iLONFFeSg","testScript",void 0);var i=c.ccclass;c.property,t("testScript",i("testScript")(o=function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r.prototype.onLoad=function(){},r}(n))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/testServer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,r;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,r=e.Component}],execute:function(){var s;o._RF.push({},"6a03c6hg5JHUKyVPuipFND+","testServer",void 0);var c=n.ccclass;n.property,e("testServer",c("testServer")(s=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._socket=void 0,t}t(o,e);var n=o.prototype;return n.onLoad=function(){this._socket=window.io("http://localhost:3000")},n.start=function(){if(!this._socket)throw new Error("Socket was not inited");this._socket.on("connect",this.onConnect.bind(this)),this._socket.on("server_event",this.onServerEvent.bind(this))},n.onConnect=function(){console.log("Connected to server!"),this._socket.emit("client_event",{someData:"value",user:"kakalak"})},n.onServerEvent=function(e){console.log("Received data from server:",e)},o}(r))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/TimerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,s,a;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,s=t.Label,a=t.Component}],execute:function(){var r,o;e._RF.push({},"56f6aIoY4pIgYNJMBPuOmgt","TimerManager",void 0);var c=n.ccclass;n.property,t("TimerManager",c("TimerManager")(((o=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).isTicking=void 0,i._delay=0,i.label=void 0,i}i(e,t);var n=e.prototype;return n.onLoad=function(){e.instance=this,this.label=this.getComponent(s)},n._scheduleOnce=function(t,i){return e.instance.startCount(i),this.scheduleOnce(t,i)},n.startCount=function(t){this.isTicking=!0,this._delay=t},n.stopCount=function(){this.isTicking=!1},n.update=function(t){if(this.isTicking){if(!(this._delay>0))return this._delay=0,void(this.label.string="Time: 0");this._delay-=t,this.label.string="Time: "+Math.abs(this._delay).toFixed(0)}},e}(a)).instance=void 0,r=o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ToastManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,r,i,a,l,s,c,p,u,g,C,h,f;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,l=t.Color,s=t.find,c=t.Widget,p=t.UITransform,u=t.Label,g=t.UIOpacity,C=t.Sprite,h=t.tween,f=t.Component}],execute:function(){var b,w,m,y,d,v,T,k,z,A,_;i._RF.push({},"ce5a2xTwd1NV4U2Pfeh6CtP","ToastManager",void 0);var I=a.ccclass,M=a.property;t("ToastManager",(b=I("ToastManager"),w=M(l),m=M(l),y=M(l),d=M(l),b((k=o((T=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return o=t.call.apply(t,[this].concat(i))||this,n(o,"winColor",k,r(o)),n(o,"loseColor",z,r(o)),n(o,"drawColor",A,r(o)),n(o,"blackJackColor",_,r(o)),o._originalTop=0,o}e(o,t);var i=o.prototype;return i.onLoad=function(){var t=s("Canvas");this.getComponent(c).target=t,this._originalTop=this.getComponent(c).top},i.showToast=function(t,o){var e=this;void 0===t&&(t="Your message"),void 0===o&&(o="win");var n=this.getComponent(p).contentSize.height,r=this.getComponent(c);this.getComponentInChildren(u).string=t,this.getComponent(g).opacity=255,this[o+"Color"]&&(this.getComponent(C).color=this[o+"Color"]),r&&(r.top=-n,h(r).to(.5,{top:this._originalTop},{easing:"backOut"}).delay(2).to(.5,{top:-n},{easing:"backIn"}).call((function(){e.getComponent(g).opacity=0})).start())},o}(f)).prototype,"winColor",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l("#1BAA00")}}),z=o(T.prototype,"loseColor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l("#AA1400")}}),A=o(T.prototype,"drawColor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l("#00A6CF")}}),_=o(T.prototype,"blackJackColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l("#00A6CF")}}),v=T))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/utils.ts",["cc","./CardManager.ts"],(function(n){var e,t,a,r,u;return{setters:[function(n){e=n.cclegacy,t=n.Canvas,a=n.Vec3,r=n.UITransform},function(n){u=n.CardManager}],execute:function(){n({calculateWinnings:function(n,e){return e?1.5*n:n},changeParent:function(n,e){if(n.parent===e)return;var t=function(n){var e=n,t=e.angle||0;do{t+=(e=e.parent).angle||0}while(null!=e.parent);return t%=360},u=t(n),o=t(e),i=u-o;n.getComponent(r)||n.addComponent(r);e.getComponent(r)||e.addComponent(r);var c=n.getComponent(r).convertToWorldSpaceAR(new a(0,0,0)),d=e.getComponent(r).convertToNodeSpaceAR(c);n.parent=e,n.position=d,n.angle=i},checkBlackJack:function(n){if(n.length>2)return;var e,t;return n.forEach((function(n){"A"==n.value?t=!0:Number(n.value)&&10!=n.value||(e=!0)})),e&&t},detectAllCombinations:function(n){void 0===n&&(n=[]);for(var e={},t=[],a={},r=0;r<n.length;r++){var u=n[r];for(t=[];u;)t.push(u),u=f(n,u.numberValue+1);if(5==t.length){e=Object.assign(e,{aceHigh:13==[].concat(n).pop().numberValue,foundStraight:!0,title:"Sảnh",cardList:t.slice(),cardRank:5});break}}for(var o=0;o<n.length;o++){var i=n[o];for(t=[];i;)t.push(i),i=l(n,i.suit,t);if(5==t.length){e=Object.assign(e,{foundFlush:!0,title:"Thùng",cardList:t.slice(),cardRank:6});break}}if(e.foundFlush&&e.foundStraight){var c=e.aceHigh;delete(e=c?Object.assign(e,{foundRoyalFlush:!0,title:"Sảnh Rồng",cardList:t.slice(),cardRank:10}):Object.assign(e,{foundStraightFlush:!0,title:"Thùng Phá Sảnh",cardList:t.slice(),cardRank:9})).foundFlush,delete e.foundStraight}t=[];for(var d=0;d<n.length;d++){var s=n[d],h=[];if(!a[s.numberValue]){for(a[s.numberValue]=!0;s;)h.push(s),s=f(n,s.numberValue,h);switch(h.length){case 2:e.foundPair?delete(e=Object.assign(e,{found2Pairs:!0,title:"Thú",cardList:t.concat(h),cardRank:3})).foundPair:e=Object.assign(e,{foundPair:!0,title:"Đôi",cardList:t.concat(h),cardRank:2}),t=e.cardList.slice();break;case 3:e=Object.assign(e,{found3Kinds:!0,title:"Sám",cardList:t.concat(h),cardRank:4}),t=e.cardList.slice();break;case 4:e=Object.assign(e,{found4Kinds:!0,title:"Tứ Quý",cardList:t.concat(h),cardRank:8}),t=e.cardList.slice()}}}e.foundPair&&e.found3Kinds&&(delete(e=Object.assign(e,{foundFullHouse:!0,title:"Cù Lũ",cardList:t.slice(),cardRank:7})).foundPair,delete e.found3Kinds);0==Object.keys(e).length&&(e=Object.assign(e,{cardList:[[].concat(n).pop()],title:"Mậu Thầu",isHighCard:!0,cardRank:1}));return e},detectDoi:function(n){for(var e,t,a,r,u,o={},i=[],c=0;c<n.length;c++){var d=n[c],s=[];if(!o[d.numberValue]){for(o[d.numberValue]=!0;d;)s.push(d),d=f(n,d.numberValue,s);switch(s.length){case 2:e?a=!0:e=!0;break;case 3:t=!0;break;case 4:r=!0}s.length>1&&(i=i.concat(s))}}e&&t&&(u=!0,e=!1,t=!1);return{foundDoi:e,foundSam:t,foundThu:a,foundTuQuy:r,foundCuLu:u,cardList:i}},detectSanh:function(n){for(var e,t,a=[],r=0;r<n.length;r++){var u=n[r];for(a=[];u;)a.push(u),u=f(n,u.numberValue+1);if(e=5==a.length){t=13==n.pop().numberValue;break}}return{foundSanh:e,cardList:a,aceHigh:t}},detectThung:function(n){for(var e,t=[],a=0;a<n.length;a++){var r=n[a];for(t=[];r;)t.push(r),r=l(n,r.suit,t);if(e=5==t.length)break}return{foundThung:e,cardList:t}},findCardBySuit:l,findCardByValue:f,getCanvasNode:function(n){if(o)return o;var e=n;for(;!e.getComponent(t);)e=n.parent;return o=e,e},getDeck:function(n){void 0===n&&(n=!1);for(var e=[],t=0;t<i.length;t++)for(var a=0;a<c.length;a++){var r={value:c[a],suit:i[t],numberValue:Number(c[a])||(n?d[c[a]]:10)};e.push(r)}return s(e),e},getLocalPosFromEvent:function(n,e){var t=new a(n.getUILocation().x,n.getUILocation().y,0);return e.getComponent(r).convertToNodeSpaceAR(t)},getTotalHandValue:function(n){return n.reduce((function(n,e){if(e.cardNode)return e.cardNode.getComponent(u).isShowingBackCard()?n:n+e.numberValue}),0)},shuffle:s}),e._RF.push({},"940e81NIclJi7AnRDj7zfcJ","utils",void 0);n("MAX_CARDS",52);var o,i=n("SUITS",["spade","diamond","club","heart"]),c=n("VALUES",["2","3","4","5","6","7","8","9","10","J","Q","K","A"]),d=n("ROYAL_VALUES",{J:11,Q:12,K:13,A:14});n("BLACK_SUITS",["spade","club"]),n("RED_SUITS",["diamond","heart"]);function s(n){for(var e=0;e<1e3;e++){var t=Math.floor(Math.random()*n.length),a=Math.floor(Math.random()*n.length),r=n[t];n[t]=n[a],n[a]=r}}function f(n,e,t){return void 0===t&&(t=[]),n.find((function(n){if(n.numberValue==e&&-1===t.findIndex((function(e){return e===n})))return n}))}function l(n,e,t){return n.find((function(n){if(n.suit==e&&-1===t.findIndex((function(e){return e===n})))return n}))}e._RF.pop()}}}));

System.register("chunks:///_virtual/WalletManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,l,a,r,s,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,r=t.Node,s=t.Label,c=t.Animation,u=t.Component}],execute:function(){var h,p,f,g,d;l._RF.push({},"0abddZcn6ZNd4hA1Nk7G7JO","WalletManager",void 0);var y=a.ccclass,m=a.property,b="Wallet: ";t("WalletManager",(h=y("WalletManager"),p=m(r),h((d=e((g=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,o(e,"amountEffect",d,i(e)),e.playerWalletAmount=1e5,e.label=void 0,e.ledger="",e}n(e,t);var l=e.prototype;return l.start=function(){var t=this;this.label=this.getComponent(s),this.label.string=b+this.playerWalletAmount.toString(),this.node.on(r.EventType.MOUSE_DOWN,(function(){return console.log(t.ledger)}),this)},l.addMoney=function(t){void 0===t&&(t=0),this.playerWalletAmount+=t,this.label.string=b+this.playerWalletAmount.toString(),this.ledger+="+ "+t+"\n",this.showEffect(t)},l.subMoney=function(t){void 0===t&&(t=0),this.playerWalletAmount-=t,this.label.string=b+this.playerWalletAmount.toString(),this.ledger+="- "+t+"\n",this.showEffect(-1*t)},l.showEffect=function(t){this.amountEffect.getComponent(s).string=t.toString(),this.amountEffect.getComponent(c).play()},e}(u)).prototype,"amountEffect",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f));l._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/start-scene', 'chunks:///_virtual/start-scene'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});